(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gear"],{"4d0a":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto"},[r("v-row",{attrs:{dense:"",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"auto"}},[r("gear-action-card",{staticClass:"mb-2",attrs:{"selected-gear-id":e.selectedGearId},on:{"change-gears":e.changeGears,"change-sorting":e.changeSorting}}),r("gear-list-view",{attrs:{gears:e.filteredGears,"sort-col":e.sortingColumn},model:{value:e.selectedGearId,callback:function(t){e.selectedGearId=t},expression:"selectedGearId"}}),r("v-btn",{staticClass:"hidden-sm-and-up",attrs:{bottom:"",fab:"",fixed:"",right:"",small:""},on:{click:e.goToTop}},[r("v-icon",[e._v("mdi-chevron-up")])],1)],1)],1)],1)},a=[],i=(r("99af"),r("a434"),r("2909")),o=r("d4ec"),n=r("bee2"),c=r("262e"),l=r("2caf"),u=r("9ab4"),d=r("60a3"),p=r("3617"),f=function(e){Object(c["a"])(r,e);var t=Object(l["a"])(r);function r(){var e;return Object(o["a"])(this,r),e=t.apply(this,arguments),e.selectedGearId="",e.sortingColumn="",e.filteredGears=[],e}return Object(n["a"])(r,[{key:"changeGears",value:function(e){var t;(t=this.filteredGears).splice.apply(t,[0,this.filteredGears.length].concat(Object(i["a"])(e)))}},{key:"changeSorting",value:function(e){this.sortingColumn=e}},{key:"goToTop",value:function(){console.log("called"),document.getElementById("app").scrollTo({top:0,left:0,behavior:"smooth"})}}]),r}(d["e"]);f=Object(u["a"])([Object(d["a"])({name:"gear-page",components:{GearActionCard:p["a"],GearTable:p["h"],GearCard:p["b"],GearStatisticsSheet:p["g"],GearListView:p["c"]}})],f);var m=f,v=m,h=r("2877"),g=r("6544"),b=r.n(g),k=r("8336"),S=r("62ad"),w=r("132d"),y=r("0fd9"),C=Object(h["a"])(v,s,a,!1,null,null,null);t["default"]=C.exports;b()(C,{VBtn:k["a"],VCol:S["a"],VIcon:w["a"],VRow:y["a"]})},"4ead":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-sheet",{staticClass:"section body-2 py-1 pl-2 mb-2"},[r("strong",[e._v("Debug Panel")]),r("br"),e._l(e.gearStore.distribution,(function(t,s){return r("span",{key:s},[e._v(e._s(s)+" ("+e._s(t)+"), ")])})),e._v(" Number of combinations: "),r("strong",{staticClass:"body-1"},[e._v(e._s(e._f("formatNumber")(e.gearStore.numOfCombinations)))]),e._v(" / Estimated processing time: "),r("strong",{staticClass:"body-1"},[e._v(e._s(e._f("formatNumber")(Math.ceil(e.gearStore.numOfCombinations/1e7*8/60))))]),e._v(" minutes ")],2),r("optimization-profiler",{staticClass:"mb-2",on:{optimize:e.optimize},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.progress.processTime>=0?r("v-progress-linear",{staticClass:"mb-2",attrs:{color:"success",height:"70",indeterminate:e.optimizing,striped:""}},[r("strong",{staticClass:"text-center"},[e._v(" Processed ("+e._s(e._f("formatNumber")(e.progress.proceeded))+")"),r("br"),e._v(" Evaluated ("+e._s(e._f("formatNumber")(e.progress.evaluated))+")"),r("br"),e._v(" Found ("+e._s(e._f("formatNumber")(e.progress.found))+") in "+e._s(e.progress.processTime)+" seconds ")])]):e._e(),r("v-card",[r("v-card-text",{staticClass:"pa-2"},[r("suit-gear-view",{attrs:{suit:e.selectedSuit}}),r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"d-flex justify-center align-center px-6"},[r("div",{staticClass:"mr-2"},[e._v("Current")]),r("v-divider")],1)],1),e.currentEquipped&&e.form.hero?r("hero-detail-card",{staticClass:"mx-auto",attrs:{hero:e.form.hero,suit:e.currentEquipped.suit}}):e._e()],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"d-flex justify-center align-center px-6"},[r("div",{staticClass:"mr-2",staticStyle:{"background-color":"green"}},[e._v("Selected")]),r("v-divider")],1)],1),e.selectionEquipped?r("hero-detail-card",{staticClass:"mx-auto",attrs:{hero:e.form.hero,suit:e.selectionEquipped.suit}}):e._e()],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"d-flex justify-center align-center px-6"},[r("div",{staticClass:"mr-2"},[e._v("Saved Suit")]),r("v-divider")],1)],1),e.savedEquipped&&e.form.hero?r("hero-detail-card",{staticClass:"mx-auto",attrs:{hero:e.form.hero,suit:e.savedEquipped.suit}}):e._e()],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:""},on:{click:e.equipAll}},[e._v("Equip Selected")]),r("v-btn",{attrs:{text:""},on:{click:e.unequipAll}},[e._v("Unequip Current")])],1)],1),r("v-card",{staticClass:"mt-2"},[r("v-card-text",[r("v-row",[r("v-col",[r("v-data-table",{attrs:{dense:"","footer-props":{showFirstLastPage:!0},headers:e.headers,"item-key":"id",items:e.result,"items-per-page":10,"multi-sort":!1,"single-select":""},on:{"click:row":e.clickRow},scopedSlots:e._u([{key:"item.sets",fn:function(t){var s=t.item;return[r("div",{staticClass:"d-flex"},e._l(s.sets,(function(e,t){return r("gear-set-icon",{key:t,attrs:{set:e}})})),1)]}}])})],1),r("v-col",{attrs:{cols:"auto"}})],1)],1)],1)],1)},a=[],i=r("f8d9"),o=i["a"],n=r("2877"),c=r("6544"),l=r.n(c),u=r("8336"),d=r("b0af"),p=r("99d9"),f=r("62ad"),m=r("8fea"),v=r("ce7e"),h=r("8e36"),g=r("0fd9"),b=r("8dd9"),k=Object(n["a"])(o,s,a,!1,null,null,null);t["default"]=k.exports;l()(k,{VBtn:u["a"],VCard:d["a"],VCardActions:p["a"],VCardText:p["b"],VCol:f["a"],VDataTable:m["a"],VDivider:v["a"],VProgressLinear:h["a"],VRow:g["a"],VSheet:b["a"]})},"91b0":function(e,t,r){e.exports=r.p+"js/0.3a5c6529.worker.js"},f8d9:function(e,t,r){"use strict";(function(e){r("4de4"),r("4160"),r("159b");var s=r("5530"),a=(r("96cf"),r("1da1")),i=r("d4ec"),o=r("bee2"),n=r("262e"),c=r("2caf"),l=r("9ab4"),u=r("d533"),d=r("3617"),p=r("60a3"),f=r("2f62"),m=r("08ba"),v=function(t){Object(n["a"])(s,t);var r=Object(c["a"])(s);function s(){var t;return Object(i["a"])(this,s),t=r.apply(this,arguments),t.worker=new Worker(e,void 0),t.form={profile:m["a"].emptyOptimizationProfile(),hero:m["a"].emptyHero()},t.result=[],t.selectedSuit=m["a"].emptySuit(),t.optimizing=!1,t.progress={evaluated:0,proceeded:0,found:0,processTime:-1},t.headers=[{text:"Set",value:"sets",sortable:!1},{text:"HP",value:"hp"},{text:"DEF",value:"def"},{text:"ATK",value:"atk"},{text:"CRI",value:"cri"},{text:"C.DMG",value:"cdmg"},{text:"SPD",value:"spd"},{text:"EFF",value:"eff"},{text:"RES",value:"res"},{text:"Damage",value:"damage"},{text:"DMS",value:"dms"},{text:"EHP",value:"ehp"},{text:"Rate",value:"rating"}],t}return Object(o["a"])(s,[{key:"gearStore",get:function(){return m["e"].createGearStore(this.gears,this.form.profile.filter,{hero:this.form.hero,heros:this.heros})}},{key:"currentEquipped",get:function(){return this.getEquippedHero(this.form.hero.id)}},{key:"savedEquipped",get:function(){var e=this.getSavedSuit(this.form.hero.id);if(e)return m["b"].equip(this.form.hero,e)}},{key:"selectionEquipped",get:function(){return m["b"].equip(this.form.hero,this.selectedSuit)}},{key:"selectedSuitGears",get:function(){return[this.selectedSuit.weapon,this.selectedSuit.helmet,this.selectedSuit.armor,this.selectedSuit.necklace,this.selectedSuit.ring,this.selectedSuit.boot]}},{key:"optimize",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("optimize::start"),this.optimizing=!0,this.worker.postMessage({action:"optimize",store:this.gearStore,profile:this.form.profile,hero:this.form.hero});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clickRow",value:function(e,t){console.log("clickRow::item =",e),console.log("clickRow::e =",t),t.select(),this.selectedSuit=this.toSuit(e)}},{key:"toSuit",value:function(e){var t=this,r=new m["d"];return r.bonus(this.form.hero.bonusAbility),[e.weaponId,e.helmetId,e.armorId,e.necklaceId,e.ringId,e.bootId].forEach((function(e){void 0!=e&&r.setGear(t.getGear(e))})),r.build()}},{key:"equipAll",value:function(){var e=this;console.log("equipAll::hero.id =",this.form.profile.hero.id),this.unequipAll(),console.log("equipAll::selectedSuit =",this.selectedSuit),this.selectedSuitGears.forEach((function(t){void 0!=t&&(t.equippedHero=e.form.profile.hero.id,e.saveGears([t]))}))}},{key:"unequipAll",value:function(){var e=this;console.log("unequipAll::",this.currentEquipped),this.currentEquipped&&[this.currentEquipped.suit.weapon,this.currentEquipped.suit.helmet,this.currentEquipped.suit.armor,this.currentEquipped.suit.necklace,this.currentEquipped.suit.ring,this.currentEquipped.suit.boot].forEach((function(t){t&&(t.equippedHero="",e.saveGears([t]))}))}},{key:"created",value:function(){this.setupWorker()}},{key:"setupWorker",value:function(){var e=this;this.worker.onmessage=function(t){console.log("worker::onmessage::action =",t.data.action),"optimize-result"==t.data.action?(e.result=t.data.result,e.optimizing=!1):"progress"==t.data.action&&(console.log("worker::onmessage::result =",t.data.result),e.progress=t.data.result)}}},{key:"destroyed",value:function(){this.worker.terminate()}}]),s}(p["e"]);v=Object(l["a"])([Object(p["a"])({name:"optimizer-page",components:{GearCard:d["b"],GearSetIcon:d["d"],HeroDetailCard:d["i"],OptimizationProfiler:d["m"],TitleSheet:u["a"],SuitGearView:d["o"]},computed:Object(s["a"])({},Object(f["c"])(["heros","gears","getEquippedHero","getHero","getGear","getSavedSuit"])),methods:Object(f["b"])(["saveGears","updateState"])})],v),t["a"]=v}).call(this,r("91b0"))}}]);
//# sourceMappingURL=gear.0e8de057.js.map