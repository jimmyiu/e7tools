(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gear"],{"4d0a":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"mx-auto"},[i("v-row",{attrs:{dense:"",justify:"center"}},[i("v-col",{attrs:{cols:"12",md:"auto"}},[i("gear-action-card",{attrs:{"selected-gear-id":e.selectedGearId},on:{"change-gears":e.changeGears,"change-sorting":e.changeSorting,click:e.actionClick,resize:e.onResize}})],1),i("v-col",{ref:"container",attrs:{cols:"12",md:"auto"}},[i("v-row",{attrs:{dense:"",justify:"center"}},[e.$vuetify.breakpoint.lgAndUp||"list"==e.mode?i("v-col",{attrs:{cols:"auto"}},[i("gear-list-view",{staticClass:"mx-auto",attrs:{gears:e.filteredGears,height:e.listViewHeight,"sort-col":e.sortingColumn},model:{value:e.selectedGearId,callback:function(t){e.selectedGearId=t},expression:"selectedGearId"}})],1):e._e(),e.$vuetify.breakpoint.lgAndUp||"statistics"==e.mode?i("v-col",{attrs:{cols:"auto"}},[i("gear-statistics-sheet",{attrs:{gears:e.filteredGears}})],1):e._e()],1)],1)],1),i("v-btn",{staticClass:"hidden-lg-and-up",attrs:{bottom:"",elevation:"12",fab:"",fixed:"",right:"",small:""},on:{click:e.toggleMode}},["list"==e.mode?i("v-icon",[e._v("mdi-chart-box-outline")]):i("v-icon",[e._v("mdi-view-list-outline")])],1)],1)},s=[],a=(i("99af"),i("a434"),i("2909")),o=i("d4ec"),n=i("bee2"),c=i("262e"),l=i("2caf"),u=i("9ab4"),d=i("60a3"),p=i("3617"),v=function(e){Object(c["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(o["a"])(this,i),e=t.apply(this,arguments),e.selectedGearId="",e.sortingColumn="",e.filteredGears=[],e.listViewHeight=500,e.mode="list",e}return Object(n["a"])(i,[{key:"changeGears",value:function(e){var t;(t=this.filteredGears).splice.apply(t,[0,this.filteredGears.length].concat(Object(a["a"])(e)))}},{key:"changeSorting",value:function(e){this.sortingColumn=e}},{key:"toggleMode",value:function(){this.mode="list"==this.mode?"statistics":"list"}},{key:"actionClick",value:function(e,t){console.log(e,t)}},{key:"onResize",value:function(){var e=this;setTimeout((function(){var t=e.container.offsetTop;e.listViewHeight=window.innerHeight-t-64}),400)}}]),i}(d["f"]);Object(u["a"])([Object(d["e"])("container")],v.prototype,"container",void 0),v=Object(u["a"])([Object(d["a"])({name:"gear-page",components:{GearActionCard:p["a"],GearTable:p["h"],GearCard:p["b"],GearStatisticsSheet:p["g"],GearListView:p["c"]}})],v);var f=v,m=f,h=i("2877"),g=i("6544"),b=i.n(g),k=i("8336"),w=i("62ad"),S=i("132d"),y=i("0fd9"),_=i("269a"),C=i.n(_),x=i("dc22"),q=Object(h["a"])(m,r,s,!1,null,null,null);t["default"]=q.exports;b()(q,{VBtn:k["a"],VCol:w["a"],VIcon:S["a"],VRow:y["a"]}),C()(q,{Resize:x["a"]})},"4ead":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-sheet",{staticClass:"section body-2 py-1 pl-2 mb-2"},[i("strong",[e._v("Debug Panel")]),i("br"),e._l(e.gearStore.distribution,(function(t,r){return i("span",{key:r},[e._v(e._s(r)+" ("+e._s(t)+"), ")])})),e._v(" Number of combinations: "),i("strong",{staticClass:"body-1"},[e._v(e._s(e._f("formatNumber")(e.gearStore.numOfCombinations)))]),e._v(" / Estimated processing time: "),i("strong",{staticClass:"body-1"},[e._v(e._s(e._f("formatNumber")(Math.ceil(e.gearStore.numOfCombinations/1e7*8/60))))]),e._v(" minutes ")],2),i("optimization-profiler",{staticClass:"mb-2",on:{optimize:e.optimize},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.progress.processTime>=0?i("v-progress-linear",{staticClass:"mb-2",attrs:{color:"success",height:"70",indeterminate:e.optimizing,striped:""}},[i("strong",{staticClass:"text-center"},[e._v(" Processed ("+e._s(e._f("formatNumber")(e.progress.proceeded))+")"),i("br"),e._v(" Evaluated ("+e._s(e._f("formatNumber")(e.progress.evaluated))+")"),i("br"),e._v(" Found ("+e._s(e._f("formatNumber")(e.progress.found))+") in "+e._s(e.progress.processTime)+" seconds ")])]):e._e(),i("v-card",[i("v-card-text",{staticClass:"pa-2"},[i("suit-gear-view",{attrs:{suit:e.selectedSuit}}),i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex justify-center align-center px-6"},[i("div",{staticClass:"mr-2"},[e._v("Current")]),i("v-divider")],1)],1),e.currentEquipped&&e.form.hero?i("hero-detail-card",{staticClass:"mx-auto",attrs:{hero:e.form.hero,suit:e.currentEquipped.suit}}):e._e()],1),i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex justify-center align-center px-6"},[i("div",{staticClass:"mr-2",staticStyle:{"background-color":"green"}},[e._v("Selected")]),i("v-divider")],1)],1),e.selectionEquipped?i("hero-detail-card",{staticClass:"mx-auto",attrs:{hero:e.form.hero,suit:e.selectionEquipped.suit}}):e._e()],1),i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex justify-center align-center px-6"},[i("div",{staticClass:"mr-2"},[e._v("Saved Suit")]),i("v-divider")],1)],1),e.savedEquipped&&e.form.hero?i("hero-detail-card",{staticClass:"mx-auto",attrs:{hero:e.form.hero,suit:e.savedEquipped.suit}}):e._e()],1)],1)],1),i("v-divider"),i("v-card-actions",[i("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:""},on:{click:e.equipAll}},[e._v("Equip Selected")]),i("v-btn",{attrs:{text:""},on:{click:e.unequipAll}},[e._v("Unequip Current")])],1)],1),i("v-card",{staticClass:"mt-2"},[i("v-card-text",[i("v-row",[i("v-col",[i("v-data-table",{attrs:{dense:"","footer-props":{showFirstLastPage:!0},headers:e.headers,"item-key":"id",items:e.result,"items-per-page":10,"multi-sort":!1,"single-select":""},on:{"click:row":e.clickRow},scopedSlots:e._u([{key:"item.sets",fn:function(t){var r=t.item;return[i("div",{staticClass:"d-flex"},e._l(r.sets,(function(e,t){return i("gear-set-icon",{key:t,attrs:{set:e}})})),1)]}}])})],1),i("v-col",{attrs:{cols:"auto"}})],1)],1)],1)],1)},s=[],a=i("f8d9"),o=a["a"],n=i("2877"),c=i("6544"),l=i.n(c),u=i("8336"),d=i("b0af"),p=i("99d9"),v=i("62ad"),f=i("8fea"),m=i("ce7e"),h=i("8e36"),g=i("0fd9"),b=i("8dd9"),k=Object(n["a"])(o,r,s,!1,null,null,null);t["default"]=k.exports;l()(k,{VBtn:u["a"],VCard:d["a"],VCardActions:p["a"],VCardText:p["b"],VCol:v["a"],VDataTable:f["a"],VDivider:m["a"],VProgressLinear:h["a"],VRow:g["a"],VSheet:b["a"]})},"91b0":function(e,t,i){e.exports=i.p+"js/0.cc2400c1.worker.js"},f8d9:function(e,t,i){"use strict";(function(e){i("4de4"),i("4160"),i("159b");var r=i("5530"),s=(i("96cf"),i("1da1")),a=i("d4ec"),o=i("bee2"),n=i("262e"),c=i("2caf"),l=i("9ab4"),u=i("d533"),d=i("3617"),p=i("60a3"),v=i("2f62"),f=i("08ba"),m=function(t){Object(n["a"])(r,t);var i=Object(c["a"])(r);function r(){var t;return Object(a["a"])(this,r),t=i.apply(this,arguments),t.worker=new Worker(e,void 0),t.form={profile:f["a"].emptyOptimizationProfile(),hero:f["a"].emptyHero()},t.result=[],t.selectedSuit=f["a"].emptySuit(),t.optimizing=!1,t.progress={evaluated:0,proceeded:0,found:0,processTime:-1},t.headers=[{text:"Set",value:"sets",sortable:!1},{text:"HP",value:"hp"},{text:"DEF",value:"def"},{text:"ATK",value:"atk"},{text:"CRI",value:"cri"},{text:"C.DMG",value:"cdmg"},{text:"SPD",value:"spd"},{text:"EFF",value:"eff"},{text:"RES",value:"res"},{text:"Damage",value:"damage"},{text:"DMS",value:"dms"},{text:"EHP",value:"ehp"},{text:"Rate",value:"rating"}],t}return Object(o["a"])(r,[{key:"gearStore",get:function(){return f["e"].createGearStore(this.gears,this.form.profile.filter,{hero:this.form.hero,heros:this.heros})}},{key:"currentEquipped",get:function(){return this.getEquippedHero(this.form.hero.id)}},{key:"savedEquipped",get:function(){var e=this.getSavedSuit(this.form.hero.id);if(e)return f["b"].equip(this.form.hero,e)}},{key:"selectionEquipped",get:function(){return f["b"].equip(this.form.hero,this.selectedSuit)}},{key:"selectedSuitGears",get:function(){return[this.selectedSuit.weapon,this.selectedSuit.helmet,this.selectedSuit.armor,this.selectedSuit.necklace,this.selectedSuit.ring,this.selectedSuit.boot]}},{key:"optimize",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("optimize::start"),this.optimizing=!0,this.worker.postMessage({action:"optimize",store:this.gearStore,profile:this.form.profile,hero:this.form.hero});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clickRow",value:function(e,t){console.log("clickRow::item =",e),console.log("clickRow::e =",t),t.select(),this.selectedSuit=this.toSuit(e)}},{key:"toSuit",value:function(e){var t=this,i=new f["d"];return i.bonus(this.form.hero.bonusAbility),[e.weaponId,e.helmetId,e.armorId,e.necklaceId,e.ringId,e.bootId].forEach((function(e){void 0!=e&&i.setGear(t.getGear(e))})),i.build()}},{key:"equipAll",value:function(){var e=this;console.log("equipAll::hero.id =",this.form.profile.hero.id),this.unequipAll(),console.log("equipAll::selectedSuit =",this.selectedSuit),this.selectedSuitGears.forEach((function(t){void 0!=t&&(t.equippedHero=e.form.profile.hero.id,e.saveGears([t]))}))}},{key:"unequipAll",value:function(){var e=this;console.log("unequipAll::",this.currentEquipped),this.currentEquipped&&[this.currentEquipped.suit.weapon,this.currentEquipped.suit.helmet,this.currentEquipped.suit.armor,this.currentEquipped.suit.necklace,this.currentEquipped.suit.ring,this.currentEquipped.suit.boot].forEach((function(t){t&&(t.equippedHero="",e.saveGears([t]))}))}},{key:"created",value:function(){this.setupWorker()}},{key:"setupWorker",value:function(){var e=this;this.worker.onmessage=function(t){console.log("worker::onmessage::action =",t.data.action),"optimize-result"==t.data.action?(e.result=t.data.result,e.optimizing=!1):"progress"==t.data.action&&(console.log("worker::onmessage::result =",t.data.result),e.progress=t.data.result)}}},{key:"destroyed",value:function(){this.worker.terminate()}}]),r}(p["f"]);m=Object(l["a"])([Object(p["a"])({name:"optimizer-page",components:{GearCard:d["b"],GearSetIcon:d["d"],HeroDetailCard:d["i"],OptimizationProfiler:d["m"],TitleSheet:u["a"],SuitGearView:d["o"]},computed:Object(r["a"])({},Object(v["c"])(["heros","gears","getEquippedHero","getHero","getGear","getSavedSuit"])),methods:Object(v["b"])(["saveGears","updateState"])})],m),t["a"]=m}).call(this,i("91b0"))}}]);
//# sourceMappingURL=gear.5dfb5767.js.map