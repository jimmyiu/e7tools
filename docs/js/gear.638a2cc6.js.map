{"version":3,"sources":["webpack:///./src/views/GearPage.vue?d634","webpack:///./src/views/GearPage.vue","webpack:///./src/views/GearPage.vue?cc8a","webpack:///./src/views/GearPage.vue?d160","webpack:///./src/views/OptimizerPage.vue?9db2","webpack:///./src/views/OptimizerPage.vue?b7d5","webpack:///./src/views/OptimizerPage.vue?3415","webpack:///./src/workers/gear-optimizer-worker.ts","webpack:///./src/views/OptimizerPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","selectedGearId","on","changeGears","changeSorting","actionClick","onResize","ref","$vuetify","breakpoint","lgAndUp","mode","filteredGears","listViewHeight","sortingColumn","model","callback","$$v","_e","toggleMode","_v","staticRenderFns","gears","splice","length","sortingCol","action","visible","console","log","setTimeout","offsetTop","container","window","innerHeight","components","GearActionCard","GearTable","GearCard","GearStatisticsSheet","GearListView","component","VBtn","VCol","VIcon","VRow","Resize","_l","gearStore","item","key","_s","_f","numOfCombinations","Math","ceil","optimize","form","progress","processTime","optimizing","proceeded","evaluated","found","savedEquipped","hero","suit","selectionEquipped","equipAll","unequipAll","showFirstLastPage","headers","result","clickRow","scopedSlots","_u","fn","set","VCard","VCardActions","VCardText","VDataTable","VDivider","VProgressLinear","VSheet","module","exports","OptimizerPage","worker","Worker","profile","emptyOptimizationProfile","emptyHero","selectedSuit","emptySuit","text","sortable","createGearStore","filter","heros","getEquippedHero","id","getSavedSuit","equip","weapon","helmet","armor","necklace","ring","boot","postMessage","store","e","select","toSuit","foo","builder","bonus","bonusAbility","weaponId","helmetId","armorId","necklaceId","ringId","bootId","forEach","x","undefined","setGear","getGear","build","selectedSuitGears","equippedHero","saveGears","currentEquipped","setupWorker","onmessage","data","terminate","GearSetIcon","HeroDetailCard","OptimizationProfiler","TitleSheet","SuitGearView","computed","methods"],"mappings":"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","file":"js/gear.638a2cc6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"mx-auto\"},[_c('v-row',{attrs:{\"dense\":\"\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"auto\"}},[_c('gear-action-card',{attrs:{\"selected-gear-id\":_vm.selectedGearId},on:{\"change-gears\":_vm.changeGears,\"change-sorting\":_vm.changeSorting,\"click\":_vm.actionClick,\"resize\":_vm.onResize}})],1),_c('v-col',{ref:\"container\",attrs:{\"cols\":\"12\",\"md\":\"auto\"}},[_c('v-row',{attrs:{\"dense\":\"\",\"justify\":\"center\"}},[(_vm.$vuetify.breakpoint.lgAndUp || _vm.mode == 'list')?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('gear-list-view',{staticClass:\"mx-auto\",attrs:{\"gears\":_vm.filteredGears,\"height\":_vm.listViewHeight,\"sort-col\":_vm.sortingColumn},model:{value:(_vm.selectedGearId),callback:function ($$v) {_vm.selectedGearId=$$v},expression:\"selectedGearId\"}})],1):_vm._e(),(_vm.$vuetify.breakpoint.lgAndUp || _vm.mode == 'statistics')?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('gear-statistics-sheet',{attrs:{\"gears\":_vm.filteredGears}})],1):_vm._e()],1)],1)],1),_c('v-btn',{staticClass:\"hidden-lg-and-up\",attrs:{\"bottom\":\"\",\"elevation\":\"12\",\"fab\":\"\",\"fixed\":\"\",\"right\":\"\",\"small\":\"\"},on:{\"click\":_vm.toggleMode}},[(_vm.mode == 'list')?_c('v-icon',[_vm._v(\"mdi-chart-box-outline\")]):_c('v-icon',[_vm._v(\"mdi-view-list-outline\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch, Ref } from 'vue-property-decorator';\nimport { mapActions, mapGetters } from 'vuex';\nimport {\n  GearActionCard,\n  GearSortingCard,\n  GearTable,\n  GearFilterInputSheet,\n  GearCard,\n  GearStatisticsSheet,\n  GearListView\n} from '@/components';\nimport { FilterMode, Gear } from '@/models';\nimport { GearPageFilter, GearStatFilter } from '@/models/gear-page';\nimport { SortingOrder } from '@/models/common';\n\n@Component({\n  name: 'gear-page',\n  components: {\n    GearActionCard,\n    GearTable,\n    GearCard,\n    GearStatisticsSheet,\n    GearListView\n  }\n  // computed: { ...mapGetters(['gears', 'getGear']) }\n})\nexport default class GearPage extends Vue {\n  // getGear!: (gearId: string) => Gear.Gear;\n  // gears!: Gear.Gear[];\n  selectedGearId: string = '';\n  sortingColumn: string = '';\n  filteredGears: Gear.Gear[] = [];\n  listViewHeight = 500;\n  mode: 'statistics' | 'list' = 'list';\n  // @Ref('listView') readonly listView!: Vue;\n  @Ref('container') readonly container!: HTMLElement;\n\n  changeGears(gears: Gear.Gear[]) {\n    this.filteredGears.splice(0, this.filteredGears.length, ...gears);\n  }\n\n  changeSorting(sortingCol: string) {\n    this.sortingColumn = sortingCol;\n  }\n\n  toggleMode() {\n    this.mode = this.mode == 'list' ? 'statistics' : 'list';\n  }\n\n  actionClick(action: string, visible: boolean) {\n    console.log(action, visible);\n  }\n  // goToTop() {\n  //   console.log('called');\n  // window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  // this.$vuetify.goTo(0, { container: '#app' });\n  // this.$vuetify.goTo('#app', { offset: -100 });\n  //   (document.getElementById('app') as any).scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  // }\n\n  onResize() {\n    // const\n    // console.log('container top = ' + this.container.offsetTop);\n    // if (this.listView && this.listView.$el) {\n    // const offsetTop = (this.listView.$el as HTMLElement).offsetTop;\n\n    // console.log(offsetTop);\n    // console.log(this.$refs.gearActionCard.$el.clientHeight);\n    // this.listViewHeight = window.innerHeight - (60 + 12 + 12 + this.$refs.gearActionCard.$el.clientHeight + 8);\n    // if (this.$vuetify.breakpoint.mdAndUp) {\n    //   this\n    // }\n    setTimeout(() => {\n      const offsetTop = this.container.offsetTop;\n      this.listViewHeight = window.innerHeight - offsetTop - 64;\n    }, 400);\n    // }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GearPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GearPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GearPage.vue?vue&type=template&id=29660542&\"\nimport script from \"./GearPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./GearPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VIcon,VRow})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-sheet',{staticClass:\"section body-2 py-1 pl-2 mb-2\"},[_c('strong',[_vm._v(\"Debug Panel\")]),_c('br'),_vm._l((_vm.gearStore.distribution),function(item,key){return _c('span',{key:key},[_vm._v(_vm._s(key)+\" (\"+_vm._s(item)+\"), \")])}),_vm._v(\" Number of combinations: \"),_c('strong',{staticClass:\"body-1\"},[_vm._v(_vm._s(_vm._f(\"formatNumber\")(_vm.gearStore.numOfCombinations)))]),_vm._v(\" / Estimated processing time: \"),_c('strong',{staticClass:\"body-1\"},[_vm._v(_vm._s(_vm._f(\"formatNumber\")(Math.ceil(((_vm.gearStore.numOfCombinations / 10000000) * 8) / 60))))]),_vm._v(\" minutes \")],2),_c('optimization-profiler',{staticClass:\"mb-2\",on:{\"optimize\":_vm.optimize},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}}),(_vm.progress.processTime >= 0)?_c('v-progress-linear',{staticClass:\"mb-2\",attrs:{\"color\":\"success\",\"height\":\"70\",\"indeterminate\":_vm.optimizing,\"striped\":\"\"}},[_c('strong',{staticClass:\"text-center\"},[_vm._v(\" Processed (\"+_vm._s(_vm._f(\"formatNumber\")(_vm.progress.proceeded))+\")\"),_c('br'),_vm._v(\" Evaluated (\"+_vm._s(_vm._f(\"formatNumber\")(_vm.progress.evaluated))+\")\"),_c('br'),_vm._v(\" Found (\"+_vm._s(_vm._f(\"formatNumber\")(_vm.progress.found))+\") in \"+_vm._s(_vm.progress.processTime)+\" seconds \")])]):_vm._e(),_c('v-card',[_c('v-card-text',{staticClass:\"pa-2\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-1\",attrs:{\"cols\":\"12\",\"lg\":\"12\",\"sm\":\"auto\"}},[_c('suit-gear-view',{staticClass:\"mx-auto\",attrs:{\"hero\":_vm.savedEquipped.hero,\"suit\":_vm.savedEquipped.suit}})],1),_c('v-col',{staticClass:\"flex-grow-1\",attrs:{\"cols\":\"12\",\"lg\":\"12\",\"sm\":\"auto\"}},[_c('suit-gear-view',{staticClass:\"mx-auto\",attrs:{\"hero\":_vm.selectionEquipped.hero,\"suit\":_vm.selectionEquipped.suit}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}}),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}}),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}})],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.equipAll}},[_vm._v(\"Equip Selected\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.unequipAll}},[_vm._v(\"Unequip Current\")])],1)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-data-table',{attrs:{\"dense\":\"\",\"footer-props\":{ showFirstLastPage: true },\"headers\":_vm.headers,\"item-key\":\"id\",\"items\":_vm.result,\"items-per-page\":10,\"multi-sort\":false,\"single-select\":\"\"},on:{\"click:row\":_vm.clickRow},scopedSlots:_vm._u([{key:\"item.sets\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex\"},_vm._l((item.sets),function(set,key){return _c('gear-set-icon',{key:key,attrs:{\"set\":set}})}),1)]}}])})],1),_c('v-col',{attrs:{\"cols\":\"auto\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimizerPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimizerPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OptimizerPage.vue?vue&type=template&id=211d1187&\"\nimport script from \"./OptimizerPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./OptimizerPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VDataTable,VDivider,VProgressLinear,VRow,VSheet})\n","module.exports = __webpack_public_path__ + \"js/0.cc2400c1.worker.js\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport TitleSheet from '@/components/common/TitleSheet.vue';\nimport { GearCard, GearSetIcon, HeroDetailCard, OptimizationProfiler, SuitGearView } from '@/components';\nimport { Gear, EquippedHero, Hero, Suit } from '@/models';\nimport { Vue, Component } from 'vue-property-decorator';\nimport { mapActions, mapGetters } from 'vuex';\nimport { SuitBuilder, HeroService, gearFilterService, ConstantService } from '@/services';\nimport { OptimizationForm, OptimizationResult } from '@/models/optimizer';\nimport { GearOptimizerProgress } from '@/services/gear-optimizer';\n\n@Component({\n  name: 'optimizer-page',\n  components: { GearCard, GearSetIcon, HeroDetailCard, OptimizationProfiler, TitleSheet, SuitGearView },\n  computed: {\n    ...mapGetters(['heros', 'gears', 'getEquippedHero', 'getHero', 'getGear', 'getSavedSuit'])\n  },\n  methods: mapActions(['saveGears', 'updateState'])\n})\nexport default class OptimizerPage extends Vue {\n  // vuex\n  readonly gears!: Gear.Gear[];\n  readonly heros!: Hero[];\n  getEquippedHero!: (heroId: string) => EquippedHero | undefined;\n  getGear!: (gearId: string) => Gear.Gear;\n  getHero!: (heroId: string) => Hero;\n  getSavedSuit!: (heroId: string) => Suit | undefined;\n  saveGears!: (gear: Gear.Gear[]) => void;\n\n  // worker\n  worker = new Worker('../workers/gear-optimizer-worker.ts', { type: 'module' });\n\n  // models\n  // profile: OptimizationProfile = ConstantService.emptyOptimizationProfile();\n  form: OptimizationForm = {\n    profile: ConstantService.emptyOptimizationProfile(),\n    hero: ConstantService.emptyHero()\n  };\n\n  result: OptimizationResult[] = [];\n  selectedSuit = ConstantService.emptySuit();\n  //\n  optimizing = false;\n  progress: GearOptimizerProgress = {\n    evaluated: 0,\n    proceeded: 0,\n    found: 0,\n    processTime: -1\n  };\n  //\n  headers = [\n    { text: 'Set', value: 'sets', sortable: false },\n    { text: 'HP', value: 'hp' },\n    { text: 'DEF', value: 'def' },\n    { text: 'ATK', value: 'atk' },\n    { text: 'CRI', value: 'cri' },\n    { text: 'C.DMG', value: 'cdmg' },\n    { text: 'SPD', value: 'spd' },\n    { text: 'EFF', value: 'eff' },\n    { text: 'RES', value: 'res' },\n    { text: 'Damage', value: 'damage' },\n    { text: 'DMS', value: 'dms' },\n    { text: 'EHP', value: 'ehp' },\n    { text: 'Rate', value: 'rating' }\n  ];\n\n  get gearStore() {\n    return gearFilterService.createGearStore(this.gears, this.form.profile.filter, {\n      hero: this.form.hero,\n      heros: this.heros\n    });\n  }\n\n  // get hero(): Hero | undefined {\n  //   return this.getHero(this.profile.hero.id);\n  // }\n\n  get currentEquipped(): EquippedHero | undefined {\n    return this.getEquippedHero(this.form.hero.id);\n  }\n\n  get savedEquipped() {\n    const savedEquipped = this.getSavedSuit(this.form.hero.id);\n    if (savedEquipped) {\n      return HeroService.equip(this.form.hero, savedEquipped);\n    }\n    return undefined;\n  }\n\n  get selectionEquipped(): EquippedHero | undefined {\n    return HeroService.equip(this.form.hero, this.selectedSuit);\n  }\n\n  get selectedSuitGears() {\n    return [\n      this.selectedSuit.weapon,\n      this.selectedSuit.helmet,\n      this.selectedSuit.armor,\n      this.selectedSuit.necklace,\n      this.selectedSuit.ring,\n      this.selectedSuit.boot\n    ];\n  }\n\n  async optimize() {\n    console.log('optimize::start');\n    // this.result.splice(0, this.result.length);\n    this.optimizing = true;\n    this.worker.postMessage({\n      action: 'optimize',\n      store: this.gearStore,\n      profile: this.form.profile,\n      hero: this.form.hero\n    });\n  }\n\n  clickRow(item: OptimizationResult, e: any) {\n    console.log('clickRow::item =', item);\n    console.log('clickRow::e =', e);\n    e.select();\n    // console.log('clickRow::armor =', item.combination.sets);\n    this.selectedSuit = this.toSuit(item);\n  }\n\n  toSuit(foo: OptimizationResult) {\n    const builder = new SuitBuilder();\n    builder.bonus(this.form.hero.bonusAbility);\n    [foo.weaponId, foo.helmetId, foo.armorId, foo.necklaceId, foo.ringId, foo.bootId].forEach(x => {\n      if (x != undefined) {\n        builder.setGear(this.getGear(x));\n      }\n    });\n    return builder.build();\n  }\n\n  equipAll() {\n    console.log('equipAll::hero.id =', this.form.profile.hero.id);\n    this.unequipAll();\n    console.log('equipAll::selectedSuit =', this.selectedSuit);\n    this.selectedSuitGears.forEach(x => {\n      if (x != undefined) {\n        x.equippedHero = this.form.profile.hero.id;\n        this.saveGears([x]);\n      }\n    });\n  }\n\n  unequipAll() {\n    console.log('unequipAll::', this.currentEquipped);\n    if (this.currentEquipped) {\n      [\n        this.currentEquipped.suit.weapon,\n        this.currentEquipped.suit.helmet,\n        this.currentEquipped.suit.armor,\n        this.currentEquipped.suit.necklace,\n        this.currentEquipped.suit.ring,\n        this.currentEquipped.suit.boot\n      ].forEach(x => {\n        if (x) {\n          x.equippedHero = '';\n          this.saveGears([x]);\n        }\n      });\n    }\n  }\n\n  created() {\n    this.setupWorker();\n  }\n\n  setupWorker() {\n    this.worker.onmessage = e => {\n      console.log('worker::onmessage::action =', e.data.action);\n      if (e.data.action == 'optimize-result') {\n        this.result = e.data.result;\n        this.optimizing = false;\n      } else if (e.data.action == 'progress') {\n        console.log('worker::onmessage::result =', e.data.result);\n        // this.progress.calculated = e.data.result.calculated;\n        // this.progress.proceeded = e.data.result.proceeded;\n        this.progress = e.data.result;\n      }\n    };\n  }\n\n  destroyed() {\n    this.worker.terminate();\n  }\n}\n"],"sourceRoot":""}