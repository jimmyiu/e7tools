(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gear"],{"4d0a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-row",{attrs:{dense:""}},[i("v-col",[i("gear-table-filter",{model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),i("v-divider",{staticClass:"mt-1"}),i("gear-table",{attrs:{gears:e.filteredGears},on:{"edit-gear":e.editGear}})],1)],1),i("v-btn",{attrs:{bottom:"",fab:"",fixed:"",right:""},on:{click:e.createGear}},[i("v-icon",[e._v("mdi-plus")])],1),i("v-bottom-sheet",{attrs:{scrollable:""},model:{value:e.visible.overlay,callback:function(t){e.$set(e.visible,"overlay",t)},expression:"visible.overlay"}},[e.visible.overlay?i("gear-form-card",{attrs:{gear:e.gearToBeEdited},on:{close:function(t){e.visible.overlay=!1},input:e.inputGear}}):e._e()],1),i("v-snackbar",{attrs:{color:"success",rounded:"pill",timeout:"1500",top:""},model:{value:e.visible.completeMsg,callback:function(t){e.$set(e.visible,"completeMsg",t)},expression:"visible.completeMsg"}},[i("div",{staticClass:"text-center"},[e._v("A gear is updated")])])],1)},r=[],s=(i("4de4"),i("c975"),i("d81d"),i("5530")),o=i("d4ec"),l=i("bee2"),n=i("262e"),c=i("2caf"),d=i("9ab4"),u=i("60a3"),p=i("2f62"),v=i("3617"),f=i("0d59"),h=function(e){Object(n["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(o["a"])(this,i),e=t.apply(this,arguments),e.gearToBeEdited=void 0,e.visible={overlay:!1,completeMsg:!1},e.filter={type:void 0,sets:[],level:0,mode:0,main:!1,enhanceMode:f["b"].EnhanceModeFilter.ALL},e}return Object(l["a"])(i,[{key:"filteredGears",get:function(){var e=this,t=this.gears.filter((function(t){var i=void 0==e.filter.type||e.filter.type==t.type,a=0==e.filter.sets.length||e.filter.sets.indexOf(t.set)>=0,r=!e.filter.level||e.filter.level==t.level,s=!e.filter.enhanceMode||e.filter.enhanceMode==f["b"].EnhanceModeFilter.LESS_THAN_15&&t.enhance<15||e.filter.enhanceMode==f["b"].EnhanceModeFilter.ONLY_15&&15==t.enhance;return i&&a&&r&&s}));return this.filter.main||(t=t.map((function(e){var t=f["b"].Gear.clone(e);return u["e"].set(t,t.main.value,void 0),t}))),t}},{key:"inputGear",value:function(e){this.saveGears([e]),this.visible.completeMsg=!0,this.visible.overlay=!1}},{key:"editGear",value:function(e){this.gearToBeEdited=this.getGear(e),this.visible.overlay=!0}},{key:"createGear",value:function(){this.gearToBeEdited=void 0,this.visible.overlay=!0}}]),i}(u["e"]);h=Object(d["a"])([Object(u["a"])({name:"gear-page",components:{GearFormCard:v["b"],GearTable:v["d"],GearTableFilter:v["e"]},computed:Object(s["a"])({},Object(p["c"])(["gears","getGear"])),methods:Object(p["b"])(["saveGears"])})],h);var m=h,g=m,b=i("2877"),x=i("6544"),k=i.n(x),_=(i("a9e3"),i("d0cd"),i("169a")),S=_["a"].extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},_["a"].options.computed.classes.call(this)),{},{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}}),y=i("8336"),w=i("62ad"),O=i("ce7e"),C=i("132d"),I=i("0fd9"),j=i("2db4"),q=Object(b["a"])(g,a,r,!1,null,null,null);t["default"]=q.exports;k()(q,{VBottomSheet:S,VBtn:y["a"],VCol:w["a"],VDivider:O["a"],VIcon:C["a"],VRow:I["a"],VSnackbar:j["a"]})},"4ead":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"section"},[a("v-card-text",[a("strong",[e._v("Debug Panel")]),a("br"),e._l(e.gearStore.distribution,(function(t,i){return a("span",{key:i},[e._v(e._s(i)+" ("+e._s(t)+"), ")])})),a("br"),e._v(" Number of combinations: "+e._s(e._f("formatNumber")(e.gearStore.numOfCombinations))),a("br"),e._v(" Estimated processing time: "+e._s(e._f("formatNumber")(Math.ceil(e.gearStore.numOfCombinations/1e7*8/60)))+" minutes ")],2)],1),a("v-card",{staticClass:"mt-2"},[a("v-card-text",[a("optimization-profiler",{on:{"change-hero":e.changeHero},model:{value:e.profile,callback:function(t){e.profile=t},expression:"profile"}})],1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:""},on:{click:e.optimize}},[e._v("Optimize")]),a("v-btn",{attrs:{text:""},on:{click:e.reset}},[e._v("Clear")]),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"success",text:""},on:{click:e.saveProfile}},[e._v("Save")]),a("v-btn",{attrs:{text:""},on:{click:e.loadProfile}},[e._v("Load")]),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-spacer"),a("v-text-field",{staticStyle:{"max-width":"200px"},attrs:{dense:"","hide-details":"",label:"Process Limit",outlined:"",type:"number"},model:{value:e.profile.combination.limit,callback:function(t){e.$set(e.profile.combination,"limit",t)},expression:"profile.combination.limit"}})],1)],1),a("v-card",{staticClass:"mt-2"},[a("v-card-text",[e.equippedHero?a("v-row",[a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("0003")}}),e._v(" "+e._s(e.equippedHero.hp)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("b22f")}}),e._v(" "+e._s(e.equippedHero.def)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("2ff1")}}),e._v(" "+e._s(e.equippedHero.atk)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("7a34")}}),e._v(" "+e._s(e.equippedHero.cri)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("e726")}}),e._v(" "+e._s(e.equippedHero.cdmg)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("befc")}}),e._v(" "+e._s(e.equippedHero.spd)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("40f6")}}),e._v(" "+e._s(e.equippedHero.eff)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"1"}},[a("v-img",{attrs:{"max-height":"18","max-width":"18",src:i("85de")}}),e._v(" "+e._s(e.equippedHero.res)+" ")],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"2"}},[e._v("Damage: "+e._s(e.equippedHero.damage))]),a("v-col",{staticClass:"d-flex",attrs:{cols:"2"}},[e._v("EHP: "+e._s(e.equippedHero.ehp))])],1):e._e(),a("v-row",[a("v-col",{attrs:{cols:"6",lg:"2",sm:"2"}},[a("gear-detail-card",{attrs:{gear:e.selectedSuit.weapon}})],1),a("v-col",{attrs:{cols:"6",lg:"2",sm:"2"}},[a("gear-detail-card",{attrs:{gear:e.selectedSuit.helmet}})],1),a("v-col",{attrs:{cols:"6",lg:"2",sm:"2"}},[a("gear-detail-card",{attrs:{gear:e.selectedSuit.armor}})],1),a("v-col",{attrs:{cols:"6",lg:"2",sm:"2"}},[a("gear-detail-card",{attrs:{gear:e.selectedSuit.necklace}})],1),a("v-col",{attrs:{cols:"6",lg:"2",sm:"2"}},[a("gear-detail-card",{attrs:{gear:e.selectedSuit.ring}})],1),a("v-col",{attrs:{cols:"6",lg:"2",sm:"2"}},[a("gear-detail-card",{attrs:{gear:e.selectedSuit.boot}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",text:""},on:{click:e.equipAll}},[e._v("Equip All")]),a("v-btn",{attrs:{text:""},on:{click:e.unequipAll}},[e._v("Unequip All")])],1)],1),a("v-card",{staticClass:"mt-2"},[e.progress>0?a("v-progress-linear",{attrs:{height:"20",indeterminate:"",striped:""}},[a("strong",[e._v("Processed: "+e._s(e.progress))])]):e._e(),a("v-card-text",[a("v-row",[a("v-col",[a("v-data-table",{attrs:{dense:"","footer-props":{showFirstLastPage:!0},headers:e.headers,"item-key":"id",items:e.result,"items-per-page":10,"multi-sort":!1,"single-select":""},on:{"click:row":e.clickRow},scopedSlots:e._u([{key:"item.sets",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex"},e._l(i.sets,(function(e,t){return a("gear-set-icon",{key:t,attrs:{set:e,small:""}})})),1)]}}])})],1),a("v-col",{attrs:{cols:"auto"}})],1)],1)],1),e.profile.hero?a("v-snackbar",{attrs:{color:"success",rounded:"pill",timeout:"1500",top:""},model:{value:e.popupMsg,callback:function(t){e.popupMsg=t},expression:"popupMsg"}},[a("div",{staticClass:"text-center"},[e._v(e._s(e.profile.hero.name)+" profile saved")])]):e._e()],1)},r=[],s=i("f8d9"),o=s["a"],l=i("2877"),n=i("6544"),c=i.n(n),d=i("8336"),u=i("b0af"),p=i("99d9"),v=i("62ad"),f=i("8fea"),h=i("ce7e"),m=i("adda"),g=i("8e36"),b=i("0fd9"),x=i("2db4"),k=i("2fa4"),_=i("8654"),S=Object(l["a"])(o,a,r,!1,null,null,null);t["default"]=S.exports;c()(S,{VBtn:d["a"],VCard:u["a"],VCardActions:p["a"],VCardText:p["b"],VCol:v["a"],VDataTable:f["a"],VDivider:h["a"],VImg:m["a"],VProgressLinear:g["a"],VRow:b["a"],VSnackbar:x["a"],VSpacer:k["a"],VTextField:_["a"]})},"91b0":function(e,t,i){e.exports=i.p+"js/0.bbaadba0.worker.js"},d0cd:function(e,t,i){},dac0:function(e,t,i){"use strict";i("4de4"),i("c975"),i("d81d");var a=i("d4ec"),r=i("bee2"),s=i("0d59"),o=function(){function e(){Object(a["a"])(this,e),this.noopFilter=function(e){return!0}}return Object(r["a"])(e,[{key:"filter",value:function(e,t,i){var a=this.noopFilter;t.sets.length>0&&(a=function(e){return t.sets.indexOf(e.set)>=0});var r=this.noopFilter;t.enhanceMode==s["b"].EnhanceModeFilter.LESS_THAN_15?r=function(e){return e.enhance<15}:t.enhanceMode==s["b"].EnhanceModeFilter.ONLY_15&&(r=function(e){return 15==e.enhance});var o=this.noopFilter;if(t.necklaces.length>0){var l=t.necklaces.map((function(e){return e.value}));o=function(e){return e.type!=s["b"].Type.Necklace||l.indexOf(e.main.value)>=0}}var n=this.noopFilter;if(t.rings.length>0){var c=t.rings.map((function(e){return e.value}));n=function(e){return e.type!=s["b"].Type.Ring||c.indexOf(e.main.value)>=0}}var d=this.noopFilter;if(t.boots.length>0){var u=t.boots.map((function(e){return e.value}));d=function(e){return e.type!=s["b"].Type.Boot||u.indexOf(e.main.value)>=0}}var p=this.noopFilter;t.locked||(p=function(e){return!e.locked});var v=this.noopFilter;return t.equipped||(v=i.heroId?function(e){return""==e.equippedHero||e.equippedHero==i.heroId}:function(e){return""==e.equippedHero}),e.filter((function(e){return p(e)&&v(e)&&a(e)&&r(e)&&o(e)&&n(e)&&d(e)}))}}]),e}();t["a"]=new o},f8d9:function(e,t,i){"use strict";(function(e){i("4de4"),i("4160"),i("a434"),i("159b");var a=i("5530"),r=(i("96cf"),i("1da1")),s=i("d4ec"),o=i("bee2"),l=i("262e"),n=i("2caf"),c=i("9ab4"),d=i("3617"),u=i("0d59"),p=i("dac0"),v=i("60a3"),f=i("2f62"),h=i("08ba"),m=function(t){Object(l["a"])(a,t);var i=Object(n["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=i.apply(this,arguments),t.worker=new Worker(e,void 0),t.profile={id:"",heroId:"",filter:{},stat:{},combination:{}},t.result=[],t.selectedSuit={},t.progress=0,t.popupMsg=0,t.headers=[{text:"Set",value:"sets",sortable:!1},{text:"HP",value:"hp"},{text:"DEF",value:"def"},{text:"ATK",value:"atk"},{text:"CRI",value:"cri"},{text:"C.DMG",value:"cdmg"},{text:"SPD",value:"spd"},{text:"EFF",value:"eff"},{text:"RES",value:"res"},{text:"Damage",value:"damage"},{text:"EHP",value:"ehp"}],t}return Object(o["a"])(a,[{key:"gearStore",get:function(){return new u["b"].GearStore(p["a"].filter(this.gears,this.profile.filter,{heroId:this.profile.heroId}))}},{key:"equippedHero",get:function(){if(this.profile.heroId&&this.selectedSuit)return h["c"].equip(this.getHero(this.profile.heroId),this.selectedSuit)}},{key:"optimize",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("optimize::start"),this.result.splice(0,this.result.length),this.worker.postMessage({action:"optimize",store:this.gearStore,profile:this.profile,hero:this.getHero(this.profile.heroId)});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clickRow",value:function(e,t){console.log("clickRow::item =",e),console.log("clickRow::e =",t),t.select(),this.selectedSuit=this.toSuit(e)}},{key:"toSuit",value:function(e){var t=this,i=new h["a"];return[e.weaponId,e.helmetId,e.armorId,e.necklaceId,e.ringId,e.bootId].forEach((function(e){void 0!=e&&i.setGear(t.getGear(e))})),i.build()}},{key:"reset",value:function(){this.result.splice(0,this.result.length),this.profile.filter=Object.assign({},u["a"].GEAR_FILTER_DEFAULT),this.profile.stat={hp:{},def:{},atk:{},cri:{max:110},cdmg:{max:360},spd:{},eff:{},res:{},ehp:{},damage:{}},this.profile.combination={forcedSets:[],limit:u["a"].OPTIMIZATION_PROCESS_LIMIT},this.selectedSuit=this.getSuit(this.profile.heroId)}},{key:"changeHero",value:function(e){this.updateState({lastSelectedHeroId:e}),this.loadProfile()}},{key:"equipAll",value:function(){var e=this;if(console.log("equipAll::heroId =",this.profile.heroId),this.selectedSuit){this.unequipAll(),console.log("equipAll::selectedSuit =",this.selectedSuit);var t=this.selectedSuit;[t.weapon,t.helmet,t.armor,t.necklace,t.ring,t.boot].forEach((function(t){void 0!=t&&(t.equippedHero=e.profile.heroId,e.saveGears([t]))}))}}},{key:"unequipAll",value:function(){var e=this;this.selectedSuit&&(console.log("unequipAll::",this.selectedSuit),[this.selectedSuit.weapon,this.selectedSuit.helmet,this.selectedSuit.armor,this.selectedSuit.necklace,this.selectedSuit.ring,this.selectedSuit.boot].forEach((function(t){void 0!=t&&(t.equippedHero="",e.saveGears([t]))})))}},{key:"saveProfile",value:function(){console.log("saveProfile::profile =",this.profile),this.updateProfiles([this.profile]),this.popupMsg=1}},{key:"loadProfile",value:function(){console.log("loadProfile::hero.id =",this.profile.heroId);var e=this.getProfile(this.profile.heroId);console.log("loadProfile::profile =",this.getProfile(this.profile.heroId)),e&&Object.assign(this.profile,e),this.selectedSuit=this.getSuit(this.profile.heroId)}},{key:"created",value:function(){this.setupWorker(),this.profile.heroId=this.siteState.lastSelectedHeroId,this.reset(),this.loadProfile()}},{key:"setupWorker",value:function(){var e=this;this.worker.onmessage=function(t){console.log("worker::onmessage::action =",t.data.action),"optimize-result"==t.data.action?e.result=t.data.result:"progress"==t.data.action&&(e.progress=t.data.result)}}},{key:"destroyed",value:function(){this.worker.terminate()}}]),a}(v["e"]);m=Object(c["a"])([Object(v["a"])({name:"optimizer-page",components:{GearDetailCard:d["a"],GearSetIcon:d["c"],OptimizationProfiler:d["g"]},computed:Object(a["a"])({},Object(f["c"])(["siteState","heros","gears","getSuit","getProfile","getHero","getGear"])),methods:Object(f["b"])(["saveGears","updateProfiles","updateState"])})],m),t["a"]=m}).call(this,i("91b0"))}}]);
//# sourceMappingURL=gear.1aa57ecb.js.map