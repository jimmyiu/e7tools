{"version":3,"sources":["webpack:///./src/views/GearPage.vue?156e","webpack:///./src/views/GearPage.vue","webpack:///./src/views/GearPage.vue?cc8a","webpack:///../../../src/components/VBottomSheet/VBottomSheet.ts","webpack:///./src/views/GearPage.vue?d160","webpack:///./src/views/OptimizerPage.vue?935d","webpack:///./src/views/OptimizerPage.vue?b7d5","webpack:///./src/views/OptimizerPage.vue?3415","webpack:///./src/services/gear-optimizer.ts","webpack:///./src/workers/gear-optimizer-worker.ts","webpack:///./src/views/OptimizerPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","filter","expression","staticClass","filteredGears","on","editGear","createGear","_v","visible","$set","gearToBeEdited","$event","overlay","inputGear","_e","staticRenderFns","undefined","completeMsg","type","sets","level","mode","main","enhanceMode","EnhanceModeFilter","ALL","gear","updateGear","gearId","getGearMap","get","result","gears","it","set","length","indexOf","enhance","LESS_THAN_15","ONLY_15","map","x","foo","Gear","clone","name","components","GearDetail","GearForm","GearTable","GearTableFilter","computed","methods","VDialog","props","inset","maxWidth","String","default","transition","classes","component","VBottomSheet","VBtn","VCol","VDivider","VIcon","VRow","VSnackbar","criteria","optimize","reset","selectedCombination","weapon","helmet","armor","necklace","ring","boot","progressPercent","_s","showFirstLastPage","headers","combinations","clickRow","_l","gearStore","item","key","_f","numOfCombinations","hardLimit","Math","round","VAlert","VCard","VCardActions","VCardText","VDataTable","VProgressLinear","GearOptimizer","store","progressCallback","count","time","Date","now","builder","GearCombinationBuilder","i1","weapons","i2","helmets","i3","armors","i4","necklaces","i5","rings","i6","boots","combination","build","REPORT_PROGRESS_COUNT","console","log","COMBINATION_HARD_LIMIT","assert","ability","spd","cri","cdmg","push","OPTIMIZE_RESULT_HARD_LIMIT","range","min","max","module","exports","OptimizerPage","worker","Worker","Object","assign","GEAR_FILTER_DEFAULT","id","progress","text","splice","postMessage","action","e","select","onmessage","data","terminate","GearStore","applyFilter","ceil","GearOptimizerFilter","GearOptimizerCriteria"],"mappings":"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","file":"js/gear.a4c32b10.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('gear-table-filter',{model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('v-divider',{staticClass:\"mt-1\"}),_c('gear-table',{attrs:{\"gears\":_vm.filteredGears},on:{\"edit-gear\":_vm.editGear}})],1)],1),_c('v-btn',{attrs:{\"bottom\":\"\",\"fab\":\"\",\"fixed\":\"\",\"right\":\"\"},on:{\"click\":_vm.createGear}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.visible.overlay),callback:function ($$v) {_vm.$set(_vm.visible, \"overlay\", $$v)},expression:\"visible.overlay\"}},[(_vm.visible.overlay)?_c('gear-form',{attrs:{\"gear\":_vm.gearToBeEdited},on:{\"close\":function($event){_vm.visible.overlay = false},\"input\":_vm.inputGear}}):_vm._e()],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"rounded\":\"pill\",\"timeout\":\"1500\",\"top\":\"\"},model:{value:(_vm.visible.completeMsg),callback:function ($$v) {_vm.$set(_vm.visible, \"completeMsg\", $$v)},expression:\"visible.completeMsg\"}},[_c('div',{staticClass:\"text-center\"},[_vm._v(\"A gear is updated\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport { mapState, mapActions, mapGetters } from 'vuex';\nimport { GearDetail, GearForm, GearTable, GearTableFilter } from '@/components';\nimport { Gear } from '@/models';\n\n@Component({\n  name: 'gear-page',\n  components: { GearDetail, GearForm, GearTable, GearTableFilter },\n  computed: { ...mapState(['gears']), ...mapGetters(['getGearMap']) },\n  methods: { ...mapActions(['updateGear']) }\n})\nexport default class GearPage extends Vue {\n  readonly getGearMap!: Map<string, Gear.Gear>;\n  updateGear!: (a: Gear.Gear) => void;\n\n  gears!: Gear.Gear[];\n  gearToBeEdited?: Gear.Gear = undefined;\n  visible = {\n    overlay: false,\n    completeMsg: false\n  };\n  filter: Gear.TableFilter = {\n    type: undefined,\n    sets: [],\n    level: 0,\n    mode: 0,\n    main: false,\n    enhanceMode: Gear.EnhanceModeFilter.ALL\n  };\n\n  get filteredGears() {\n    let result = this.gears.filter(it => {\n      let type = this.filter.type == undefined || this.filter.type == it.type!!;\n      let set = this.filter.sets.length == 0 || this.filter.sets.indexOf(it.set!!) >= 0;\n      let level = !this.filter.level || this.filter.level == it.level!!;\n      let enhance =\n        !this.filter.enhanceMode ||\n        (this.filter.enhanceMode == Gear.EnhanceModeFilter.LESS_THAN_15 && it.enhance!! < 15) ||\n        (this.filter.enhanceMode == Gear.EnhanceModeFilter.ONLY_15 && it.enhance!! == 15);\n      return type && set && level && enhance;\n    });\n    if (!this.filter.main) {\n      result = result.map(x => {\n        let foo = Gear.Gear.clone(x);\n        Vue.set(foo, foo.main!!.value, undefined);\n        return foo;\n      });\n    }\n    return result;\n  }\n\n  inputGear(gear: Gear.Gear) {\n    this.updateGear(gear);\n    this.visible.completeMsg = true;\n    this.visible.overlay = false;\n  }\n\n  editGear(gearId: string) {\n    this.gearToBeEdited = this.getGearMap.get(gearId);\n    this.visible.overlay = true;\n  }\n\n  createGear() {\n    this.gearToBeEdited = undefined;\n    this.visible.overlay = true;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GearPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GearPage.vue?vue&type=script&lang=ts&\"","import './VBottomSheet.sass'\n\n// Extensions\nimport VDialog from '../VDialog/VDialog'\n\n/* @vue/component */\nexport default VDialog.extend({\n  name: 'v-bottom-sheet',\n\n  props: {\n    inset: Boolean,\n    maxWidth: {\n      type: [String, Number],\n      default: 'auto',\n    },\n    transition: {\n      type: String,\n      default: 'bottom-sheet-transition',\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VDialog.options.computed.classes.call(this),\n        'v-bottom-sheet': true,\n        'v-bottom-sheet--inset': this.inset,\n      }\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./GearPage.vue?vue&type=template&id=a8031b9c&\"\nimport script from \"./GearPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./GearPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBottomSheet,VBtn,VCol,VDivider,VIcon,VRow,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-alert',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"warning\"}},[_vm._v(\" This is still an experimental feature \")]),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-text',[_c('gear-optimizer-filter',{model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('v-divider',{staticClass:\"mb-4\"}),_c('gear-optimizer-criteria',{model:{value:(_vm.criteria),callback:function ($$v) {_vm.criteria=$$v},expression:\"criteria\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.optimize}},[_vm._v(\"Optimize\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")])],1)],1)],1)],1),(_vm.selectedCombination.id)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"4\"}},[_c('gear-detail',{attrs:{\"gear\":_vm.selectedCombination.weapon}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"4\"}},[_c('gear-detail',{attrs:{\"gear\":_vm.selectedCombination.helmet}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"4\"}},[_c('gear-detail',{attrs:{\"gear\":_vm.selectedCombination.armor}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"4\"}},[_c('gear-detail',{attrs:{\"gear\":_vm.selectedCombination.necklace}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"4\"}},[_c('gear-detail',{attrs:{\"gear\":_vm.selectedCombination.ring}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"4\"}},[_c('gear-detail',{attrs:{\"gear\":_vm.selectedCombination.boot}})],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.progressPercent > 0)?_c('v-progress-linear',{attrs:{\"height\":\"25\",\"value\":_vm.progressPercent}},[_c('strong',[_vm._v(_vm._s(_vm.progressPercent)+\"%\")])]):_vm._e(),_c('v-data-table',{attrs:{\"dense\":\"\",\"footer-props\":{ showFirstLastPage: true },\"headers\":_vm.headers,\"items\":_vm.combinations,\"items-per-page\":15,\"multi-sort\":false,\"single-select\":\"\"},on:{\"click:row\":_vm.clickRow}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"section\"},[_c('v-card-text',[_c('strong',[_vm._v(\"Debug Panel\")]),_c('br'),_vm._l((_vm.gearStore.distribution),function(item,key){return _c('span',{key:key},[_vm._v(_vm._s(key)+\" (\"+_vm._s(item)+\"), \")])}),_c('br'),_vm._v(\" Number of combinations: \"+_vm._s(_vm._f(\"formatNumber\")(_vm.gearStore.numOfCombinations))+\" (Hard limit: \"+_vm._s(_vm._f(\"formatNumber\")(_vm.hardLimit))+\")\"),_c('br'),_vm._v(\" Estimated processing time: \"+_vm._s(_vm._f(\"formatNumber\")(Math.round(((_vm.gearStore.numOfCombinations / 10000000) * 7.1) / 60)))+\" minutes \")],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimizerPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimizerPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OptimizerPage.vue?vue&type=template&id=769e01a2&\"\nimport script from \"./OptimizerPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./OptimizerPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCol,VDataTable,VDivider,VProgressLinear,VRow})\n","import { Gear, Range } from '@/models';\n\n// TODO: refactor\nexport class GearOptimizer {\n  static COMBINATION_HARD_LIMIT = 1000000;\n  // static COMBINATION_HARD_LIMIT = 5000000;\n  // static COMBINATION_HARD_LIMIT = 2;\n  static OPTIMIZE_RESULT_HARD_LIMIT = 100000;\n  static REPORT_PROGRESS_COUNT = GearOptimizer.COMBINATION_HARD_LIMIT / 10;\n\n  static optimize(\n    store: Gear.GearStore,\n    criteria: Gear.GearOptimizerCriteria,\n    progressCallback: (x: number) => void = (x: number) => { }\n  ): Gear.GearCombination[] {\n    let count = 0;\n    let time = Date.now();\n    const result: Gear.GearCombination[] = [];\n    const builder = new Gear.GearCombinationBuilder();\n    for (let i1 = 0; i1 < store.weapons.length; i1++) {\n      builder.weapon(store.weapons[i1]);\n      for (let i2 = 0; i2 < store.helmets.length; i2++) {\n        builder.helmet(store.helmets[i2]);\n        for (let i3 = 0; i3 < store.armors.length; i3++) {\n          builder.armor(store.armors[i3]);\n          for (let i4 = 0; i4 < store.necklaces.length; i4++) {\n            builder.necklace(store.necklaces[i4]);\n            for (let i5 = 0; i5 < store.rings.length; i5++) {\n              builder.ring(store.rings[i5]);\n              for (let i6 = 0; i6 < store.boots.length; i6++) {\n                builder.boot(store.boots[i6]);\n                // let combination = new Gear.GearCombination(tmp);\n                // let combination = new Gear.GearCombination([\n                //   store.weapons[i1],\n                //   store.helmets[i2],\n                //   store.armors[i3],\n                //   store.necklaces[i4],\n                //   store.rings[i5],\n                //   store.boots[i6]\n                // ]);\n                let combination = builder.build();\n                if (++count % GearOptimizer.REPORT_PROGRESS_COUNT == 0) {\n                  console.log('optimize::count =', count, ', result.length =', result.length);\n                  progressCallback(count);\n                  if (count >= GearOptimizer.COMBINATION_HARD_LIMIT) {\n                    console.log('optimize::hit combination hard limit');\n                    console.log('processing time =', (Date.now() - time) / 1000, 'seconds');\n                    return result;\n                  }\n                }\n                if (\n                  GearOptimizer.assert(combination.ability.spd, criteria.spd) &&\n                  GearOptimizer.assert(combination.ability.cri, criteria.cri) &&\n                  GearOptimizer.assert(combination.ability.cdmg, criteria.cdmg)\n                ) {\n                  result.push(combination);\n                }\n                if (result.length >= GearOptimizer.OPTIMIZE_RESULT_HARD_LIMIT) {\n                  console.log('optimize::hit combination hard limit, result.length =', result.length);\n                  console.log('processing time =', (Date.now() - time) / 1000, 'seconds');\n                  return result;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    console.log('processing time =', (Date.now() - time) / 1000, 'seconds');\n    return result;\n  }\n\n  static assert(ability: number | undefined, range: Range) {\n    if (!range.min && !range.max) {\n      // no assertion required\n      return true;\n    } else if (ability == undefined) {\n      // assertion required, but ability value absent\n      return false;\n    }\n    // const min = range.min ? ability >= range.min : true;\n    // const max = range.max ? ability <= range.max : true;\n    return (range.min ? ability >= range.min : true) && (range.max ? ability <= range.max : true);\n  }\n}\n\n// class OptimizeService {\n// convert(item: any): Gear.Gear {\n//   let gear: ImportGear = item;\n//   let result = new Gear.Gear(`i-${gear.ID}`);\n//   result.type = TYPE_MAPPING.get(gear.Type);\n//   result.set = SET_MAPPING.get(gear.Set);\n//   result.grade = GRADE_MAPPING.get(gear.Grade);\n//   result.level = gear.Ilvl;\n//   result.enhance = gear.Enhance;\n//   result.main = STAT_MAPPING.get(gear.Main.Name);\n//   [gear.Main, ...gear.SubStats].forEach(it => {\n//     let stat = STAT_MAPPING.get(it.Name);\n//     if (stat != undefined) {\n//       Vue.set(result, stat.value, this.covertStatValue(stat, it.Value));\n//     }\n//   });\n//   result.score = GearService.calculateScore(result);\n//   result.defScore = GearService.calculateDefScore(result);\n//   result.offScore = GearService.calculateOffScore(result);\n//   return result;\n// }\n// covertStatValue(stat: Gear.Stat, value: number): number {\n//   if (\n//     stat == Gear.Stat.ATKP ||\n//     stat == Gear.Stat.HPP ||\n//     stat == Gear.Stat.DEFP ||\n//     stat == Gear.Stat.CRI ||\n//     stat == Gear.Stat.CDMG ||\n//     stat == Gear.Stat.EFF ||\n//     stat == Gear.Stat.RES\n//   ) {\n//     return Math.round(value * 100);\n//   }\n//   return value;\n// }\n// }\n// export default new OptimizeService();\n","module.exports = __webpack_public_path__ + \"js/0.dbd08e9c.worker.js\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { GearDetail, GearOptimizerFilter, GearOptimizerCriteria } from '@/components';\nimport { Constants, Gear } from '@/models';\nimport { GearOptimizer } from '@/services/gear-optimizer';\nimport GearService from '@/services/gear-service';\nimport { Vue, Component } from 'vue-property-decorator';\nimport { mapState } from 'vuex';\n\n@Component({\n  name: 'optimizer-page',\n  components: { GearDetail, GearOptimizerFilter, GearOptimizerCriteria },\n  computed: { ...mapState(['gears']) }\n})\nexport default class OptimizerPage extends Vue {\n  // vuex\n  readonly gears!: Gear.Gear[];\n  worker = new Worker('../workers/gear-optimizer-worker.ts', { type: 'module' });\n  // models\n  filter: Gear.GearFilter = Object.assign({}, Constants.GEAR_FILTER_DEFAULT);\n  criteria: Gear.GearOptimizerCriteria = { spd: { min: 0 }, cri: { min: 0, max: 110 }, cdmg: { min: 0, max: 210 } };\n  combinations: Gear.GearCombination[] = [];\n  selectedCombination = { id: '' } as Gear.GearCombination;\n  progress = 0;\n  //\n  headers = [\n    { text: 'HP %', value: 'ability.hpp' },\n    { text: 'HP', value: 'ability.hp' },\n    { text: 'DEF %', value: 'ability.defp' },\n    { text: 'DEF', value: 'ability.def' },\n    { text: 'ATK %', value: 'ability.atkp' },\n    { text: 'ATK', value: 'ability.atk' },\n    { text: 'CRI', value: 'ability.cri' },\n    { text: 'C.DMG', value: 'ability.cdmg' },\n    { text: 'SPD', value: 'ability.spd' },\n    { text: 'EFF', value: 'ability.eff' },\n    { text: 'RES', value: 'ability.res' }\n  ];\n\n  get gearStore() {\n    return new Gear.GearStore(GearService.applyFilter(this.gears, this.filter));\n  }\n\n  get hardLimit() {\n    return GearOptimizer.COMBINATION_HARD_LIMIT;\n  }\n\n  get progressPercent() {\n    return Math.ceil(\n      (this.progress / Math.min(GearOptimizer.COMBINATION_HARD_LIMIT, this.gearStore.numOfCombinations ?? 1)) * 100\n    );\n  }\n\n  async optimize() {\n    // this.combinations.splice(0, this.combinations.length);\n    console.log('optimize::start');\n    this.combinations.splice(0, this.combinations.length);\n    this.worker.postMessage({\n      action: 'optimize',\n      store: this.gearStore,\n      criteria: this.criteria\n    });\n    // GearOptimizer.optimize(this.gearStore, this.criteria);\n\n    // this.optimizer.optimize(this.updateProgress);\n    // const weapons =\n    //   this.gearsByType.get(Gear.Type.Weapon)!.length > 0 ? this.gearsByType.get(Gear.Type.Weapon)! : [undefined];\n    // const helmets =\n    //   this.gearsByType.get(Gear.Type.Helmet)!.length > 0 ? this.gearsByType.get(Gear.Type.Helmet)! : [undefined];\n    // const armors =\n    //   this.gearsByType.get(Gear.Type.Armor)!.length > 0 ? this.gearsByType.get(Gear.Type.Armor)! : [undefined];\n    // weapons.forEach((weapon: Gear.Gear | undefined) => {\n    //   helmets.forEach((helmet?: Gear.Gear) => {\n    //     armors.forEach((armor?: Gear.Gear) => {\n    //       this.combinations.push(new Gear.GearCombination([weapon, helmet, armor]));\n    //     });\n    //   });\n    // });\n  }\n\n  reset() {\n    this.filter = Object.assign({}, Constants.GEAR_FILTER_DEFAULT);\n  }\n\n  clickRow(item: Gear.GearCombination, e: any) {\n    console.log('clickRow::item =', item);\n    console.log('clickRow::e =', e);\n    e.select();\n    this.selectedCombination = item;\n  }\n\n  created() {\n    this.worker.onmessage = e => {\n      console.log('worker::onmessage::action =', e.data.action);\n      if (e.data.action == 'optimize-result') {\n        this.combinations = e.data.result;\n      } else if (e.data.action == 'progress') {\n        this.progress = e.data.result;\n      }\n    };\n  }\n\n  destroyed() {\n    this.worker.terminate();\n  }\n}\n"],"sourceRoot":""}