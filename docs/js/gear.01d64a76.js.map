{"version":3,"sources":["webpack:///./src/views/GearPage.vue?3383","webpack:///./src/views/GearPage.vue","webpack:///./src/views/GearPage.vue?cc8a","webpack:///../../../src/components/VBottomSheet/VBottomSheet.ts","webpack:///./src/views/GearPage.vue?d160","webpack:///./src/views/OptimizerPage.vue?38e8","webpack:///./src/views/OptimizerPage.vue?b7d5","webpack:///./src/views/OptimizerPage.vue?3415","webpack:///./src/services/gear-combination-service.ts","webpack:///./src/services/gear-optimizer.ts","webpack:///./src/workers/gear-optimizer-worker.ts","webpack:///./src/services/gear-filter-service.ts","webpack:///./src/views/OptimizerPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","filter","expression","staticClass","filteredGears","on","editGear","createGear","_v","visible","$set","gearToBeEdited","$event","overlay","inputGear","_e","staticRenderFns","undefined","completeMsg","type","sets","level","mode","main","enhanceMode","EnhanceModeFilter","ALL","gear","updateGear","gearId","getGearMap","get","result","gears","it","set","length","indexOf","enhance","LESS_THAN_15","ONLY_15","map","x","foo","Gear","clone","name","components","GearFormCard","GearTable","GearTableFilter","computed","methods","VDialog","props","inset","maxWidth","String","default","transition","classes","component","VBottomSheet","VBtn","VCol","VDivider","VIcon","VRow","VSnackbar","_l","gearStore","item","key","_s","_f","numOfCombinations","hardLimit","Math","round","reset","profile","optimize","saveProfile","loadProfile","equippedHero","hp","def","atk","cri","cdmg","spd","eff","res","damage","ehp","selectedCombination","weapon","helmet","armor","necklace","ring","boot","equipAll","unequipAll","progress","showFirstLastPage","headers","clickRow","scopedSlots","_u","fn","ref","combination","popupMsg","hero","VCard","VCardActions","VCardText","VDataTable","VImg","VProgressLinear","GearCombinationService","extra","determineSetsExtraAbility","trunc","ability","hpp","defp","atkp","spdp","min","i","Set","Health","Defense","Attack","Critical","Destruction","Speed","Hit","Resist","DefaultGearOptimizer","store","progressCallback","console","log","start","Date","now","performOptimize","stat","max","forcedSets","emptySlot","target","builder","_sets","isPossible","hpMin","minFilter","Stat","HP","hpMax","maxFilter","defMin","DEF","defMax","atkMin","ATK","atkMax","criMin","CRI","criMax","cdmgMin","CDMG","cdmgMax","spdMin","SPD","spdMax","effMin","EFF","effMax","resMin","RES","resMax","ehpMin","damageMin","actualCount","count","GearCombinationBuilder","equipedHeroFilter","combinationFilter","i1","n1","weapons","i2","n2","helmets","i3","n3","armors","i4","n4","necklaces","i5","n5","rings","i6","n6","boots","equipedHero","apply","build","push","OPTIMIZE_RESULT_LIMIT","REPORT_PROGRESS_COUNT","COMBINATION_HARD_LIMIT","module","exports","GearFilterService","noopFilter","params","necklaceValues","Type","Necklace","ringValues","Ring","bootValues","Boot","locked","equiped","equipped","heroId","OptimizerPage","worker","Worker","id","text","sortable","splice","postMessage","action","e7db","heros","Object","assign","GEAR_FILTER_DEFAULT","e","select","c","forEach","updateProfiles","getProfile","onmessage","data","terminate","GearStore","getEquipped","GearDetailCard","GearSetIcon","OptimizationProfiler"],"mappings":"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","file":"js/gear.01d64a76.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',[_c('gear-table-filter',{model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('v-divider',{staticClass:\"mt-1\"}),_c('gear-table',{attrs:{\"gears\":_vm.filteredGears},on:{\"edit-gear\":_vm.editGear}})],1)],1),_c('v-btn',{attrs:{\"bottom\":\"\",\"fab\":\"\",\"fixed\":\"\",\"right\":\"\"},on:{\"click\":_vm.createGear}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.visible.overlay),callback:function ($$v) {_vm.$set(_vm.visible, \"overlay\", $$v)},expression:\"visible.overlay\"}},[(_vm.visible.overlay)?_c('gear-form-card',{attrs:{\"gear\":_vm.gearToBeEdited},on:{\"close\":function($event){_vm.visible.overlay = false},\"input\":_vm.inputGear}}):_vm._e()],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"rounded\":\"pill\",\"timeout\":\"1500\",\"top\":\"\"},model:{value:(_vm.visible.completeMsg),callback:function ($$v) {_vm.$set(_vm.visible, \"completeMsg\", $$v)},expression:\"visible.completeMsg\"}},[_c('div',{staticClass:\"text-center\"},[_vm._v(\"A gear is updated\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport { mapState, mapActions, mapGetters } from 'vuex';\nimport { GearFormCard, GearTable, GearTableFilter } from '@/components';\nimport { Gear } from '@/models';\n\n@Component({\n  name: 'gear-page',\n  components: { GearFormCard, GearTable, GearTableFilter },\n  computed: { ...mapState(['gears']), ...mapGetters(['getGearMap']) },\n  methods: mapActions(['updateGear'])\n})\nexport default class GearPage extends Vue {\n  readonly getGearMap!: Map<string, Gear.Gear>;\n  updateGear!: (gear: Gear.Gear) => void;\n\n  gears!: Gear.Gear[];\n  gearToBeEdited?: Gear.Gear = undefined;\n  visible = {\n    overlay: false,\n    completeMsg: false\n  };\n  filter: Gear.TableFilter = {\n    type: undefined,\n    sets: [],\n    level: 0,\n    mode: 0,\n    main: false,\n    enhanceMode: Gear.EnhanceModeFilter.ALL\n  };\n\n  get filteredGears() {\n    let result = this.gears.filter(it => {\n      let type = this.filter.type == undefined || this.filter.type == it.type!!;\n      let set = this.filter.sets.length == 0 || this.filter.sets.indexOf(it.set!!) >= 0;\n      let level = !this.filter.level || this.filter.level == it.level!!;\n      let enhance =\n        !this.filter.enhanceMode ||\n        (this.filter.enhanceMode == Gear.EnhanceModeFilter.LESS_THAN_15 && it.enhance!! < 15) ||\n        (this.filter.enhanceMode == Gear.EnhanceModeFilter.ONLY_15 && it.enhance!! == 15);\n      return type && set && level && enhance;\n    });\n    if (!this.filter.main) {\n      result = result.map(x => {\n        let foo = Gear.Gear.clone(x);\n        Vue.set(foo, foo.main!!.value, undefined);\n        return foo;\n      });\n    }\n    return result;\n  }\n\n  inputGear(gear: Gear.Gear) {\n    this.updateGear(gear);\n    this.visible.completeMsg = true;\n    this.visible.overlay = false;\n  }\n\n  editGear(gearId: string) {\n    this.gearToBeEdited = this.getGearMap.get(gearId);\n    this.visible.overlay = true;\n  }\n\n  createGear() {\n    this.gearToBeEdited = undefined;\n    this.visible.overlay = true;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GearPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GearPage.vue?vue&type=script&lang=ts&\"","import './VBottomSheet.sass'\n\n// Extensions\nimport VDialog from '../VDialog/VDialog'\n\n/* @vue/component */\nexport default VDialog.extend({\n  name: 'v-bottom-sheet',\n\n  props: {\n    inset: Boolean,\n    maxWidth: {\n      type: [String, Number],\n      default: 'auto',\n    },\n    transition: {\n      type: String,\n      default: 'bottom-sheet-transition',\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VDialog.options.computed.classes.call(this),\n        'v-bottom-sheet': true,\n        'v-bottom-sheet--inset': this.inset,\n      }\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./GearPage.vue?vue&type=template&id=1b8a66d9&\"\nimport script from \"./GearPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./GearPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBottomSheet,VBtn,VCol,VDivider,VIcon,VRow,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"section\"},[_c('v-card-text',[_c('strong',[_vm._v(\"Debug Panel\")]),_c('br'),_vm._l((_vm.gearStore.distribution),function(item,key){return _c('span',{key:key},[_vm._v(_vm._s(key)+\" (\"+_vm._s(item)+\"), \")])}),_c('br'),_vm._v(\" Number of combinations: \"+_vm._s(_vm._f(\"formatNumber\")(_vm.gearStore.numOfCombinations))+\" (Hard limit: \"+_vm._s(_vm._f(\"formatNumber\")(_vm.hardLimit))+\")\"),_c('br'),_vm._v(\" Estimated processing time: \"+_vm._s(_vm._f(\"formatNumber\")(Math.round(((_vm.gearStore.numOfCombinations / 10000000) * 8) / 60)))+\" minutes \")],2)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[_c('optimization-profiler',{on:{\"change-hero\":_vm.reset},model:{value:(_vm.profile),callback:function ($$v) {_vm.profile=$$v},expression:\"profile\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.optimize}},[_vm._v(\"Optimize\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"vertical\":\"\"}}),_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"success\",\"text\":\"\"},on:{\"click\":_vm.saveProfile}},[_vm._v(\"Save\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.loadProfile}},[_vm._v(\"Load\")]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"vertical\":\"\"}})],1)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[(_vm.equippedHero)?_c('v-row',[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\"}},[_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/hp.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.hp)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/def.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.def)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/atk.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.atk)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/cri.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.cri)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/cdmg.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.cdmg)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/spd.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.spd)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/eff.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.eff)+\" \"),_c('v-img',{attrs:{\"max-height\":\"18\",\"max-width\":\"18\",\"src\":require(\"@/assets/img/stat/res.png\")}}),_vm._v(\" \"+_vm._s(_vm.equippedHero.res)+\" Damage: \"+_vm._s(_vm.equippedHero.damage)+\", EHP: \"+_vm._s(_vm.equippedHero.ehp)+\" \")],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"2\"}},[_c('gear-detail-card',{attrs:{\"gear\":_vm.selectedCombination.weapon}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"2\"}},[_c('gear-detail-card',{attrs:{\"gear\":_vm.selectedCombination.helmet}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"2\"}},[_c('gear-detail-card',{attrs:{\"gear\":_vm.selectedCombination.armor}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"2\"}},[_c('gear-detail-card',{attrs:{\"gear\":_vm.selectedCombination.necklace}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"2\"}},[_c('gear-detail-card',{attrs:{\"gear\":_vm.selectedCombination.ring}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"lg\":\"2\",\"sm\":\"2\"}},[_c('gear-detail-card',{attrs:{\"gear\":_vm.selectedCombination.boot}})],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.equipAll}},[_vm._v(\"Equip All\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.unequipAll}},[_vm._v(\"Unequip All\")])],1)],1),_c('v-card',{staticClass:\"mt-2\"},[(_vm.progress > 0)?_c('v-progress-linear',{attrs:{\"height\":\"20\",\"indeterminate\":\"\",\"striped\":\"\"}},[_c('strong',[_vm._v(_vm._s(_vm.progress)+\"%\")])]):_vm._e(),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-data-table',{attrs:{\"dense\":\"\",\"footer-props\":{ showFirstLastPage: true },\"headers\":_vm.headers,\"item-key\":\"combination.id\",\"items\":_vm.result,\"items-per-page\":10,\"multi-sort\":false,\"single-select\":\"\"},on:{\"click:row\":_vm.clickRow},scopedSlots:_vm._u([{key:\"item.combination.sets\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"d-flex\"},_vm._l((item.combination.sets),function(set,key){return _c('gear-set-icon',{key:key,attrs:{\"set\":set,\"small\":\"\"}})}),1)]}}])})],1),_c('v-col',{attrs:{\"cols\":\"auto\"}})],1)],1)],1),(_vm.profile.hero)?_c('v-snackbar',{attrs:{\"color\":\"success\",\"rounded\":\"pill\",\"timeout\":\"1500\",\"top\":\"\"},model:{value:(_vm.popupMsg),callback:function ($$v) {_vm.popupMsg=$$v},expression:\"popupMsg\"}},[_c('div',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.profile.hero.name)+\" profile saved\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimizerPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptimizerPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OptimizerPage.vue?vue&type=template&id=ee50848e&\"\nimport script from \"./OptimizerPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./OptimizerPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VDataTable,VDivider,VImg,VProgressLinear,VRow,VSnackbar})\n","import { Gear, Hero } from '@/models';\nimport { EquipedHero } from '@/models/hero';\n\nclass GearCombinationService {\n  public apply(combination: Gear.GearCombination, hero: Hero): EquipedHero {\n    const extra = this.determineSetsExtraAbility(combination.sets);\n    const result: EquipedHero = {\n      hp: Math.trunc(hero.hp * (1 + (combination.ability.hpp + extra.hpp) / 100)) + combination.ability.hp,\n      def: Math.trunc(hero.def * (1 + (combination.ability.defp + extra.defp) / 100)) + combination.ability.def,\n      atk: Math.trunc(hero.atk * (1 + (combination.ability.atkp + extra.atkp) / 100)) + combination.ability.atk,\n      cri: hero.cri + combination.ability.cri + extra.cri,\n      cdmg: hero.cdmg + combination.ability.cdmg + extra.cdmg,\n      spd: Math.trunc(hero.spd * (1 + extra.spdp / 100)) + combination.ability.spd,\n      eff: hero.eff + combination.ability.eff + extra.eff,\n      res: hero.res + combination.ability.res + extra.res,\n      combination: combination,\n      damage: 0,\n      ehp: 0\n    };\n    result.damage = Math.trunc((result.atk * Math.min(result.cdmg, 350)) / 1000);\n    result.ehp = Math.trunc(result.hp * (1 + result.def / 300));\n    return result;\n  }\n\n  private determineSetsExtraAbility(sets: Gear.Set[]) {\n    const result: Gear.SetAbility = {\n      hpp: 0,\n      defp: 0,\n      atkp: 0,\n      cri: 0,\n      cdmg: 0,\n      spdp: 0,\n      eff: 0,\n      res: 0\n    };\n    for (let i = 0; i < sets.length; i++) {\n      if (sets[i] == Gear.Set.Health) {\n        result.hpp += 12;\n      } else if (sets[i] == Gear.Set.Defense) {\n        result.defp += 12;\n      } else if (sets[i] == Gear.Set.Attack) {\n        result.atkp += 35;\n      } else if (sets[i] == Gear.Set.Critical) {\n        result.cri += 12;\n      } else if (sets[i] == Gear.Set.Destruction) {\n        result.cdmg += 40;\n      } else if (sets[i] == Gear.Set.Speed) {\n        result.spdp += 25;\n      } else if (sets[i] == Gear.Set.Hit) {\n        result.eff += 12;\n      } else if (sets[i] == Gear.Set.Resist) {\n        result.res += 12;\n      }\n    }\n    return result;\n  }\n}\n\nexport default new GearCombinationService();\n","import { Gear, HeroAbility, EquipedHero, OptimizationProfile } from '@/models';\nimport GearCombinationService from './gear-combination-service';\n\nexport interface IGearOptimizer {\n  store: Gear.GearStore;\n  profile: OptimizationProfile;\n  progressCallback: (x: number) => void;\n\n  optimize: () => EquipedHero[];\n}\n\nexport class DefaultGearOptimizer implements IGearOptimizer {\n  static COMBINATION_HARD_LIMIT = 10000000;\n  // static COMBINATION_HARD_LIMIT = 10;\n  static OPTIMIZE_RESULT_LIMIT = 50000;\n  static REPORT_PROGRESS_COUNT = DefaultGearOptimizer.COMBINATION_HARD_LIMIT / 10;\n\n  constructor(\n    public readonly store: Gear.GearStore,\n    public readonly profile: OptimizationProfile,\n    public readonly progressCallback: (x: number) => void\n  ) { }\n\n  optimize(): EquipedHero[] {\n    console.log('optimize::start');\n    console.log('optimize::profile =', this.profile);\n    let start = Date.now();\n    this.progressCallback(1);\n    const result: EquipedHero[] = this.performOptimize();\n    this.progressCallback(0);\n    console.log('optimize::processing time =', (Date.now() - start) / 1000, 'seconds');\n    return result;\n  }\n\n  minFilter(stat: string) {\n    if ((this.profile.stat as any)[stat]!.min) {\n      return (ability: HeroAbility) => (ability as any)[stat] >= (this.profile.stat as any)[stat].min!;\n    }\n    return (ability: HeroAbility) => true;\n  }\n\n  maxFilter(stat: string) {\n    if ((this.profile.stat as any)[stat]!.max) {\n      return (ability: HeroAbility) => (ability as any)[stat] <= (this.profile.stat as any)[stat].max!;\n    }\n    return (ability: HeroAbility) => true;\n  }\n\n  combinationFilter() {\n    if (this.profile.combination.forcedSets.length == 0) {\n      return (sets: Gear.GearCombinationBuilder, emptySlot: number) => true;\n    }\n    const target: any = {};\n    // TODO: currently assumed input sets is make sense\n    for (let i = 0; i < this.profile.combination.forcedSets.length; i++) {\n      const set = this.profile.combination.forcedSets[i];\n      switch (set) {\n        case Gear.Set.Speed:\n        case Gear.Set.Attack:\n        case Gear.Set.Destruction:\n          target[set] = target[set] ?? 4;\n          break;\n        default:\n          target[set] = (target[set] ?? 0) + 2;\n          break;\n      }\n    }\n    return (builder: Gear.GearCombinationBuilder, emptySlot: number) => {\n      return builder._sets.isPossible(target, emptySlot);\n    };\n  }\n\n  equipedHeroFilter() {\n    let hpMin = this.minFilter(Gear.Stat.HP.value);\n    let hpMax = this.maxFilter(Gear.Stat.HP.value);\n    let defMin = this.minFilter(Gear.Stat.DEF.value);\n    let defMax = this.maxFilter(Gear.Stat.DEF.value);\n    let atkMin = this.minFilter(Gear.Stat.ATK.value);\n    let atkMax = this.maxFilter(Gear.Stat.ATK.value);\n    let criMin = this.minFilter(Gear.Stat.CRI.value);\n    let criMax = this.maxFilter(Gear.Stat.CRI.value);\n    let cdmgMin = this.minFilter(Gear.Stat.CDMG.value);\n    let cdmgMax = this.maxFilter(Gear.Stat.CDMG.value);\n    let spdMin = this.minFilter(Gear.Stat.SPD.value);\n    let spdMax = this.maxFilter(Gear.Stat.SPD.value);\n    let effMin = this.minFilter(Gear.Stat.EFF.value);\n    let effMax = this.maxFilter(Gear.Stat.EFF.value);\n    let resMin = this.minFilter(Gear.Stat.RES.value);\n    let resMax = this.maxFilter(Gear.Stat.RES.value);\n    let ehpMin = this.minFilter('ehp');\n    let damageMin = this.minFilter('damage');\n\n    return (hero: EquipedHero) => {\n      return (\n        spdMin(hero) &&\n        spdMax(hero) &&\n        criMin(hero) &&\n        criMax(hero) &&\n        hpMin(hero) &&\n        hpMax(hero) &&\n        defMin(hero) &&\n        defMax(hero) &&\n        atkMin(hero) &&\n        atkMax(hero) &&\n        cdmgMin(hero) &&\n        cdmgMax(hero) &&\n        effMin(hero) &&\n        effMax(hero) &&\n        resMin(hero) &&\n        resMax(hero) &&\n        ehpMin(hero) &&\n        damageMin(hero)\n      );\n    };\n  }\n\n  performOptimize(): EquipedHero[] {\n    let actualCount = 0;\n    let count = 0;\n    const result: EquipedHero[] = [];\n    const builder = new Gear.GearCombinationBuilder();\n    const equipedHeroFilter = this.equipedHeroFilter();\n    const combinationFilter = this.combinationFilter();\n    for (let i1 = 0, n1 = this.store.weapons.length; i1 < n1; i1++) {\n      builder.weapon(this.store.weapons[i1]);\n      for (let i2 = 0, n2 = this.store.helmets.length; i2 < n2; i2++) {\n        builder.helmet(this.store.helmets[i2]);\n        for (let i3 = 0, n3 = this.store.armors.length; i3 < n3; i3++) {\n          builder.armor(this.store.armors[i3]);\n          if (!combinationFilter(builder, 3)) {\n            actualCount += this.store.necklaces.length * this.store.rings.length * this.store.boots.length;\n            continue;\n          }\n          for (let i4 = 0, n4 = this.store.necklaces.length; i4 < n4; i4++) {\n            builder.necklace(this.store.necklaces[i4]);\n            if (!combinationFilter(builder, 2)) {\n              actualCount += this.store.rings.length * this.store.boots.length;\n              continue;\n            }\n            for (let i5 = 0, n5 = this.store.rings.length; i5 < n5; i5++) {\n              builder.ring(this.store.rings[i5]);\n              if (!combinationFilter(builder, 1)) {\n                actualCount += this.store.boots.length;\n                continue;\n              }\n              for (let i6 = 0, n6 = this.store.boots.length; i6 < n6; i6++) {\n                builder.boot(this.store.boots[i6]);\n                if (++actualCount && !combinationFilter(builder, 0)) {\n                  continue;\n                }\n\n                // let combination = builder.build();\n                const equipedHero = GearCombinationService.apply(builder.build(count), this.profile.hero);\n                if (equipedHeroFilter(equipedHero)) {\n                  result.push(equipedHero);\n                  if (result.length >= DefaultGearOptimizer.OPTIMIZE_RESULT_LIMIT) {\n                    console.log(\n                      'optimize::hit result limit, actualCount =',\n                      actualCount,\n                      ', result.length =',\n                      result.length\n                    );\n                    return result;\n                  }\n                }\n\n                if (++count % DefaultGearOptimizer.REPORT_PROGRESS_COUNT == 0) {\n                  console.log(\n                    'optimize::actualCount =',\n                    actualCount,\n                    ',count =',\n                    count,\n                    ',result.length =',\n                    result.length\n                  );\n                  // this.progressCallback(Math.trunc((100 * count) / DefaultGearOptimizer.COMBINATION_HARD_LIMIT));\n                  this.progressCallback(count);\n\n                  // hard limit check\n                  if (count >= DefaultGearOptimizer.COMBINATION_HARD_LIMIT) {\n                    console.log('optimize::hit combination hard limit');\n                    return result;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return result;\n  }\n}\n","module.exports = __webpack_public_path__ + \"js/0.7e410230.worker.js\"","import { Gear } from '@/models';\n\ntype Filter = (it: Gear.Gear) => boolean;\n\nclass GearFilterService {\n  private noopFilter: Filter = (it: Gear.Gear) => true;\n\n  // TODO: refactor hero id\n  public filter(gears: Gear.Gear[], filter: Gear.GearFilter, params: { heroId: string }) {\n    type Filter = (it: Gear.Gear) => boolean;\n    // console.log('filter::filter =', filter);\n\n    // prepare set filter\n    let set = this.noopFilter;\n    if (filter.sets.length > 0) {\n      set = (it: Gear.Gear) => filter.sets.indexOf(it.set!) >= 0;\n    }\n    // prepare enhance filter\n    let enhance = this.noopFilter;\n    if (filter.enhanceMode == Gear.EnhanceModeFilter.LESS_THAN_15) {\n      enhance = (it: Gear.Gear) => it.enhance! < 15;\n    } else if (filter.enhanceMode == Gear.EnhanceModeFilter.ONLY_15) {\n      enhance = (it: Gear.Gear) => it.enhance! == 15;\n    }\n    let necklace = this.noopFilter;\n    if (filter.necklaces.length > 0) {\n      const necklaceValues = filter.necklaces.map(x => x.value);\n      necklace = (it: Gear.Gear) => it.type! != Gear.Type.Necklace || necklaceValues.indexOf(it.main!.value) >= 0;\n    }\n    let ring = this.noopFilter;\n    if (filter.rings.length > 0) {\n      const ringValues = filter.rings.map(x => x.value);\n      ring = (it: Gear.Gear) => it.type! != Gear.Type.Ring || ringValues.indexOf(it.main!.value) >= 0;\n    }\n    let boot = this.noopFilter;\n    if (filter.boots.length > 0) {\n      const bootValues = filter.boots.map(x => x.value);\n      boot = (it: Gear.Gear) => it.type! != Gear.Type.Boot || bootValues.indexOf(it.main!.value) >= 0;\n    }\n    let locked = this.noopFilter;\n    if (!filter.locked) {\n      locked = (it: Gear.Gear) => !it.locked;\n    }\n    let equiped = this.noopFilter;\n    if (!filter.equipped) {\n      if (params.heroId) {\n        equiped = (it: Gear.Gear) => it.equippedHero == '' || it.equippedHero == params.heroId;\n      } else {\n        equiped = (it: Gear.Gear) => it.equippedHero == '';\n      }\n    }\n    return gears.filter(it => {\n      return locked(it) && equiped(it) && set(it) && enhance(it) && necklace(it) && ring(it) && boot(it);\n    });\n  }\n}\n\nexport default new GearFilterService();\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { GearDetailCard, GearSetIcon, OptimizationProfiler } from '@/components';\nimport { Constants, Gear, EquipedHero, OptimizationProfile } from '@/models';\nimport { E7dbData } from '@/models/persistence';\nimport { DefaultGearOptimizer } from '@/services/gear-optimizer';\nimport GearFilterService from '@/services/gear-filter-service';\nimport GearCombinationService from '@/services/gear-combination-service';\nimport { Vue, Component } from 'vue-property-decorator';\nimport { mapActions, mapGetters, mapState } from 'vuex';\n\n@Component({\n  name: 'optimizer-page',\n  components: { GearDetailCard, GearSetIcon, OptimizationProfiler },\n  computed: { ...mapState(['gears', 'e7db']), ...mapGetters(['getEquipped', 'getProfile']) },\n  methods: mapActions(['updateGear', 'updateProfiles'])\n})\nexport default class OptimizerPage extends Vue {\n  // vuex\n  readonly gears!: Gear.Gear[];\n  readonly e7db!: E7dbData;\n  updateGear!: (gear: Gear.Gear) => void;\n  updateProfiles!: (profiles: OptimizationProfile[]) => void;\n  getEquipped!: (heroId: string) => Gear.GearCombination;\n  getProfile!: (heroId: string) => OptimizationProfile | undefined;\n\n  // worker\n  worker = new Worker('../workers/gear-optimizer-worker.ts', { type: 'module' });\n\n  // models\n  profile: OptimizationProfile = {\n    id: '',\n    hero: {},\n    filter: {},\n    stat: {},\n    combination: {}\n  } as OptimizationProfile;\n  result: EquipedHero[] = [];\n  selectedCombination = {} as Gear.GearCombination;\n  progress = 0;\n  popupMsg = 0;\n  //\n  headers = [\n    { text: 'Set', value: 'combination.sets', sortable: false },\n    { text: 'HP', value: 'hp' },\n    { text: 'DEF', value: 'def' },\n    { text: 'ATK', value: 'atk' },\n    { text: 'CRI', value: 'cri' },\n    { text: 'C.DMG', value: 'cdmg' },\n    { text: 'SPD', value: 'spd' },\n    { text: 'EFF', value: 'eff' },\n    { text: 'RES', value: 'res' },\n    { text: 'Damage', value: 'damage' },\n    { text: 'EHP', value: 'ehp' }\n  ];\n\n  get gearStore() {\n    return new Gear.GearStore(\n      GearFilterService.filter(this.gears, this.profile.filter, {\n        heroId: this.profile.hero ? this.profile.hero.id : ''\n      })\n    );\n  }\n\n  get equippedHero(): EquipedHero | undefined {\n    if (this.profile.hero) {\n      return GearCombinationService.apply(this.getEquipped(this.profile.hero.id), this.profile.hero);\n    }\n    return undefined;\n  }\n\n  get hardLimit() {\n    return DefaultGearOptimizer.COMBINATION_HARD_LIMIT;\n  }\n\n  async optimize() {\n    console.log('optimize::start');\n    this.result.splice(0, this.result.length);\n    this.worker.postMessage({\n      action: 'optimize',\n      store: this.gearStore,\n      profile: this.profile\n    });\n  }\n\n  reset() {\n    if (!this.profile.hero.id) {\n      this.profile.hero = this.e7db.heros[34];\n    }\n    this.result.splice(0, this.result.length);\n    this.profile.filter = Object.assign({}, Constants.GEAR_FILTER_DEFAULT);\n    this.profile.stat = {\n      hp: {},\n      def: {},\n      atk: {}, // { min: 3500 },\n      cri: { max: 110 }, // min: 96,\n      cdmg: { max: 360 }, // min: 270,\n      spd: {}, // min: 218\n      eff: {},\n      res: {},\n      ehp: {},\n      damage: {}\n    };\n    this.profile.combination = {\n      forcedSets: [] // [Gear.Set.Speed, Gear.Set.Critical]\n    };\n    // this.changeHero();\n    if (this.equippedHero) {\n      console.log('reset::profile.hero.id =', this.profile.hero.id);\n      // console.log(this.getEquipped(this.profile.hero.id));\n      this.selectedCombination = this.equippedHero.combination;\n    }\n  }\n\n  clickRow(item: EquipedHero, e: any) {\n    console.log('clickRow::item =', item);\n    console.log('clickRow::e =', e);\n    e.select();\n    this.selectedCombination = item.combination;\n  }\n\n  equipAll() {\n    console.log('equipAll::hero =', this.profile.hero);\n    if (this.selectedCombination) {\n      this.unequipAll();\n      console.log('equipAll::selectedCombination =', this.selectedCombination);\n      const c = this.selectedCombination;\n      [c.weapon, c.helmet, c.armor, c.necklace, c.ring, c.boot]\n        .filter(x => x.id)\n        .forEach(x => {\n          x.equippedHero = this.profile.hero.id;\n          this.updateGear(x);\n        });\n    }\n  }\n\n  unequipAll() {\n    if (this.equippedHero && this.equippedHero.combination) {\n      console.log('unequipAll::', this.equippedHero.combination);\n      const c = this.equippedHero.combination;\n      [c.weapon, c.helmet, c.armor, c.necklace, c.ring, c.boot]\n        .filter(x => x.id)\n        .forEach(x => {\n          x.equippedHero = '';\n          this.updateGear(x);\n        });\n    }\n  }\n\n  // changeHero() {\n  //   console.log('changeHero::start');\n  //   if (this.equippedHero) {\n  //     console.log('changeHero::profile.hero.id =', this.profile.hero.id);\n  //     // console.log(this.getEquipped(this.profile.hero.id));\n  //     this.selectedCombination = this.equippedHero.combination;\n  //   }\n  // }\n\n  saveProfile() {\n    console.log('saveProfile::profile =', this.profile);\n    this.updateProfiles([this.profile]);\n    this.popupMsg = 1;\n  }\n\n  loadProfile() {\n    console.log('loadProfile::hero.id =', this.profile.hero.id);\n    const profile = this.getProfile(this.profile.hero.id);\n    console.log('loadProfile::profile =', this.getProfile(this.profile.hero.id));\n    if (profile) {\n      Object.assign(this.profile, profile);\n    }\n  }\n\n  created() {\n    // this.hero = this.e7db.heros[4];\n    this.reset();\n    this.worker.onmessage = e => {\n      console.log('worker::onmessage::action =', e.data.action);\n      if (e.data.action == 'optimize-result') {\n        this.result = e.data.result;\n      } else if (e.data.action == 'progress') {\n        this.progress = e.data.result;\n      }\n    };\n  }\n\n  destroyed() {\n    this.worker.terminate();\n  }\n}\n"],"sourceRoot":""}